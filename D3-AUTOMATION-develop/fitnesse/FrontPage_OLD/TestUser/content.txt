!*****> !style_green[1. USER]
!*****> '''1.1 POST USER'''
!*****> '''1.1.1 POST USER (/users)'''
!*****> '''1.1.1.1 System User - Create User'''
!*****> '''1.1.1.1 System User - Create System User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
  "User" : {
    "loginId" : "-!${userLoginID}!-",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$userID1|js|!-response.jsonbody.User.userId-!||
|let||js|!-response.jsonbody.User.lastLoginDate-!|null|
|let||js|!-response.jsonbody.User.enabled-!|true|
|let||js|!-response.jsonbody.User.locked-!|false|
|let||js|!-response.jsonbody.User.loginId-!|${userLoginID}|
|let||js|!-response.jsonbody.User.person.Person.employee-!|false|
|let||js|!-response.jsonbody.User.person.Person.firstName-!|${personFirstName}|
|let||js|!-response.jsonbody.User.person.Person.homePhone-!|303-666-6666|
|let|$personID1|js|!-response.jsonbody.User.person.Person.id-!||
|let||js|!-response.jsonbody.User.person.Person.lastName-!|Badyelkhan|
|let||js|!-response.jsonbody.User.person.Person.middleName-!|No Middle Name|
|let||js|!-response.jsonbody.User.person.Person.mobilePhone-!|720-555-5555|
|let||js|!-response.jsonbody.User.person.Person.primaryEmail-!|!-test@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.workPhone-!|920-456-7878|
|let||js|!-response.jsonbody.User.person.Person.alternateEmail-!|!-alternateEmail@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line1-!|1234 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line2-!|1235 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line3-!|1236 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line4-!|1237 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.city-!|!-AnyTown-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.geoCode-!|null|
|let|$mailingAddressID1|js|!-response.jsonbody.User.person.Person.mailingAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.postalCode-!|12345|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.state-!|CO|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line1-!|5555 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line2-!|5556 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line3-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line4-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.city-!|Lincoln|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.geoCode-!|null|
|let|$physicalAddressID1|js|!-response.jsonbody.User.person.Person.physicalAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.postalCode-!|45678|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.state-!|NE|
|let||js|!-response.jsonbody.User.ownerId-!||
|let||js|!-response.jsonbody.User.createdDate-!||
|let||js|!-response.jsonbody.User.updatedDate-!|null|
|let||js|!-response.jsonbody.User.userType-!|system|
|let||js|!-response.jsonbody.User.credentials-!|null|
|let||js|!-response.jsonbody.User.companyId-!||
|let||js|!-response.jsonbody.User.billpaySubscriberId-!|null|
|let||js|!-response.jsonbody.User.branchId-!|null|
|let||js|!-response.jsonbody.User.creditScore-!|null|
|let||js|!-response.jsonbody.User.creditScoreDate-!|null|
|let||js|!-response.jsonbody.User.dateOfBirth-!|null|
|let||js|!-response.jsonbody.User.directId-!|fitDirectID|
|let||js|!-response.jsonbody.User.directId2-!|null|
|let||js|!-response.jsonbody.User.emailOptOut-!|null|
|let||js|!-response.jsonbody.User.gender-!|null|
|let||js|!-response.jsonbody.User.income-!|null|
|let||js|!-response.jsonbody.User.interfaceId-!|null|
|let||js|!-response.jsonbody.User.markedForDelete-!|null|
|let||js|!-response.jsonbody.User.requiresFollowup-!|null|
|let||js|!-response.jsonbody.User.retirementAge-!|null|
|let||js|!-response.jsonbody.User.syncDate-!|null|
|let||js|!-response.jsonbody.User.taxId-!|null|
|let||js|!-response.jsonbody.User.taxIdType-!|null|
|let||js|!-response.jsonbody.User.userClass-!|null|
|comment|try to re-create using same data|
|setBody|!-{
  "User" : {
    "loginId" : "-!${userLoginID}!-",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg1|js|!-response.jsonbody.message-!||
|comment|loginID value is incorrect ex: "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf"|
|setBody|!-{
  "User" : {
    "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|disqualifying password value|
|setBody|!-{
  "User" : {
    "loginId" : "PasswordIsDisqualify",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "12345645",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$nonExpectedUserID1|js|!-response.jsonbody.User.userId-!||
|let||js|!-response.jsonbody-!||
|comment|state value is higher than 3 varchar|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||

#!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
#|symbolName|str|isContain?|
#|errMsg1|ErrorCode: 30075 - username.already.used|true|
****!
!*****> '''1.1.1.2 System User - Create Consumer User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-2",
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID2",
    "directId2": "direcID2", 
    "branchId": "-!${branchID}!-", 
"dateOfBirth": null, 
    "gender": "F", 
"income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
"billpaySubscriberId" : "testbillpaySubscriberId",
"creditScore" : "700",
"emailOptOut" : false,
"markedForDelete" : false,
"interfaceId" : 12,
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#2",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$userID2|js|!-response.jsonbody.User.userId-!||
|let||js|!-response.jsonbody.User.lastLoginDate-!|null|
|let||js|!-response.jsonbody.User.enabled-!|true|
|let||js|!-response.jsonbody.User.locked-!|false|
|let|$userLoginID2|js|!-response.jsonbody.User.loginId-!|${userLoginID}2|
|let||js|!-response.jsonbody.User.person.Person.employee-!|false|
|let||js|!-response.jsonbody.User.person.Person.firstName-!|${personFirstName}|
|let||js|!-response.jsonbody.User.person.Person.homePhone-!|303-666-6666|
|let|$personID2|js|!-response.jsonbody.User.person.Person.id-!||
|let||js|!-response.jsonbody.User.person.Person.lastName-!|Badyelkhan|
|let||js|!-response.jsonbody.User.person.Person.middleName-!|No Middle Name|
|let||js|!-response.jsonbody.User.person.Person.mobilePhone-!|720-555-5555|
|let||js|!-response.jsonbody.User.person.Person.primaryEmail-!|!-test@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.workPhone-!|920-456-7878|
|let||js|!-response.jsonbody.User.person.Person.alternateEmail-!|!-alternateEmail@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line1-!|1234 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line2-!|1235 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line3-!|1236 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line4-!|1237 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.city-!|!-AnyTown-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.geoCode-!|null|
|let|$mailingAddressID2|js|!-response.jsonbody.User.person.Person.mailingAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.postalCode-!|12345|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.state-!|CO|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line1-!|5555 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line2-!|5556 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line3-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line4-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.city-!|Lincoln|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.geoCode-!|null|
|let|$physicalAddressID2|js|!-response.jsonbody.User.person.Person.physicalAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.postalCode-!|45678|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.state-!|NE|
|let||js|!-response.jsonbody.User.ownerId-!||
|let||js|!-response.jsonbody.User.createdDate-!||
|let||js|!-response.jsonbody.User.updatedDate-!||
|let||js|!-response.jsonbody.User.userType-!|consumer|
|let||js|!-response.jsonbody.User.credentials-!|null|
|let||js|!-response.jsonbody.User.companyId-!||
|let||js|!-response.jsonbody.User.billpaySubscriberId-!|null|
|let||js|!-response.jsonbody.User.branchId-!|1.0|
|let||js|!-response.jsonbody.User.creditScore-!|null|
|let||js|!-response.jsonbody.User.creditScoreDate-!|null|
|let||js|!-response.jsonbody.User.dateOfBirth-!|null|
|let||js|!-response.jsonbody.User.directId-!|fitDirectID2|
|let||js|!-response.jsonbody.User.directId2-!|direcID2|
|let||js|!-response.jsonbody.User.emailOptOut-!|false|
|let||js|!-response.jsonbody.User.gender-!|F|
|let||js|!-response.jsonbody.User.income-!|null|
|let||js|!-response.jsonbody.User.interfaceId-!|null|
|let||js|!-response.jsonbody.User.markedForDelete-!|null|
|let||js|!-response.jsonbody.User.requiresFollowup-!|false|
|let||js|!-response.jsonbody.User.retirementAge-!|65|
|let||js|!-response.jsonbody.User.syncDate-!|null|
|let||js|!-response.jsonbody.User.taxId-!|999-99-8888|
|let||js|!-response.jsonbody.User.taxIdType-!|SSN|
|let||js|!-response.jsonbody.User.userClass-!|DOUBLE-PLATNUM|
|comment|try to re-create using same data|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-2",
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID2",
    "directId2": "direcID2", 
    "branchId": "-!${branchID}!-", 
"dateOfBirth": null, 
    "gender": "F", 
"income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
"billpaySubscriberId" : "testbillpaySubscriberId",
"creditScore" : "700",
"emailOptOut" : false,
"markedForDelete" : false,
"interfaceId" : 12,
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#2",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg1|js|!-response.jsonbody.message-!||
|comment|loginID value is incorrect ex: "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf"|
|setBody|!-{
  "User" : {
    "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf",
    "userId": null, 
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID2",
    "directId2": "direcID2", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|disqualifying password value|
|setBody|!-{
  "User" : {
    "loginId" : "PasswordIsDisqualify2",
    "userId": null, 
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID2-2",
    "directId2": "direcID2-2", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "12345645",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let||js|!-response.jsonbody-!||
|let|$nonExpectedUserID2|js|!-response.jsonbody.User.userId-!||
|comment|state value is higher than 3 varchar|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "userId": null, 
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID2",
    "directId2": "direcID2", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|if branchID is null|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "userId": null, 
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID2",
    "directId2": "direcID2", 
    "branchId": null, 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg2|js|!-response.jsonbody.message-!||

#!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
#|symbolName|str|isContain?|
#|errMsg1|!-ErrorCode: 30075 - username.already.used-!|true|
#|errMsg2|!-ErrorCode: 30086 - Specified branch could not be found-!|true|
****!
!*****> '''1.1.1.3 System User - Create Institution User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-3",
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID3",
    "directId2": "direcID3", 
    "branchId": "-!${branchID}!-", 
"dateOfBirth": null, 
    "gender": "F", 
"income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
"billpaySubscriberId" : "testbillpaySubscriberId",
"creditScore" : "700",
"emailOptOut" : false,
"markedForDelete" : false,
"interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#3",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$userID3|js|!-response.jsonbody.User.userId-!||
|let||js|!-response.jsonbody.User.lastLoginDate-!|null|
|let||js|!-response.jsonbody.User.enabled-!|true|
|let||js|!-response.jsonbody.User.locked-!|false|
|let|$userLoginID|js|!-response.jsonbody.User.loginId-!|${userLoginID}3|
|let||js|!-response.jsonbody.User.person.Person.employee-!|false|
|let||js|!-response.jsonbody.User.person.Person.firstName-!|${personFirstName}|
|let||js|!-response.jsonbody.User.person.Person.homePhone-!|303-666-6666|
|let|$personID3|js|!-response.jsonbody.User.person.Person.id-!||
|let||js|!-response.jsonbody.User.person.Person.lastName-!|Badyelkhan|
|let||js|!-response.jsonbody.User.person.Person.middleName-!|No Middle Name|
|let||js|!-response.jsonbody.User.person.Person.mobilePhone-!|720-555-5555|
|let||js|!-response.jsonbody.User.person.Person.primaryEmail-!|!-test@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.workPhone-!|920-456-7878|
|let||js|!-response.jsonbody.User.person.Person.alternateEmail-!|!-alternateEmail@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line1-!|1234 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line2-!|1235 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line3-!|1236 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line4-!|1237 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.city-!|!-AnyTown-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.geoCode-!|null|
|let|$mailingAddressID3|js|!-response.jsonbody.User.person.Person.mailingAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.postalCode-!|12345|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.state-!|CO|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line1-!|5555 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line2-!|5556 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line3-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line4-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.city-!|Lincoln|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.geoCode-!|null|
|let|$physicalAddressID3|js|!-response.jsonbody.User.person.Person.physicalAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.postalCode-!|45678|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.state-!|NE|
|let||js|!-response.jsonbody.User.ownerId-!||
|let||js|!-response.jsonbody.User.createdDate-!||
|let||js|!-response.jsonbody.User.updatedDate-!|null|
|let||js|!-response.jsonbody.User.userType-!|institution|
|let||js|!-response.jsonbody.User.credentials-!|null|
|let||js|!-response.jsonbody.User.companyId-!||
|let||js|!-response.jsonbody.User.billpaySubscriberId-!|null|
|let||js|!-response.jsonbody.User.branchId-!|null|
|let||js|!-response.jsonbody.User.creditScore-!|null|
|let||js|!-response.jsonbody.User.creditScoreDate-!|null|
|let||js|!-response.jsonbody.User.dateOfBirth-!|null|
|let||js|!-response.jsonbody.User.directId-!|fitDirectID3|
|let||js|!-response.jsonbody.User.directId2-!|null|
|let||js|!-response.jsonbody.User.emailOptOut-!|null|
|let||js|!-response.jsonbody.User.gender-!|null|
|let||js|!-response.jsonbody.User.income-!|null|
|let||js|!-response.jsonbody.User.interfaceId-!|null|
|let||js|!-response.jsonbody.User.markedForDelete-!|null|
|let||js|!-response.jsonbody.User.requiresFollowup-!|null|
|let||js|!-response.jsonbody.User.retirementAge-!|null|
|let||js|!-response.jsonbody.User.syncDate-!|null|
|let||js|!-response.jsonbody.User.taxId-!|null|
|let||js|!-response.jsonbody.User.taxIdType-!|null|
|let||js|!-response.jsonbody.User.userClass-!|null|
|comment|try to re-create using same data|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-3",
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID3",
    "directId2": "direcID3", 
    "branchId": "-!${branchID}!-", 
"dateOfBirth": null, 
    "gender": "F", 
"income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
"billpaySubscriberId" : "testbillpaySubscriberId",
"creditScore" : "700",
"emailOptOut" : false,
"markedForDelete" : false,
"interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#2",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$nonExpectedUserID5|js|!-response.jsonbody.User.userId-!||
|comment|loginID value is incorrect ex: "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf"|
|setBody|!-{
  "User" : {
    "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf",
    "userId": null, 
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID3",
    "directId2": "direcID3", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|disqualifying password value|
|setBody|!-{
  "User" : {
    "loginId" : "PasswordIsDisqualify3",
    "userId": null, 
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID3",
    "directId2": "direcID3", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "12345645",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let||js|!-response.jsonbody-!||
|let|$nonExpectedUserID3|js|!-response.jsonbody.User.userId-!||
|comment|state value is higher than 3 varchar|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "userId": null, 
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID3",
    "directId2": "direcID3", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|if companyID is null|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "userId": null, 
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID3",
    "directId2": "direcID3", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : null,
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
****!
!*****> '''1.1.1.4 System User - Create Insight User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-4",
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID4",
    "directId2": "direcID4", 
    "branchId": "-!${branchID}!-", 
"dateOfBirth": null, 
    "gender": "F", 
"income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
"billpaySubscriberId" : "testbillpaySubscriberId",
"creditScore" : "700",
"emailOptOut" : false,
"markedForDelete" : false,
"interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#4",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$userID4|js|!-response.jsonbody.User.userId-!||
|let||js|!-response.jsonbody.User.lastLoginDate-!|null|
|let||js|!-response.jsonbody.User.enabled-!|true|
|let||js|!-response.jsonbody.User.locked-!|false|
|let||js|!-response.jsonbody.User.loginId-!|${userLoginID}4|
|let||js|!-response.jsonbody.User.person.Person.employee-!|false|
|let||js|!-response.jsonbody.User.person.Person.firstName-!|${personFirstName}|
|let||js|!-response.jsonbody.User.person.Person.homePhone-!|303-666-6666|
|let|$personID4|js|!-response.jsonbody.User.person.Person.id-!||
|let||js|!-response.jsonbody.User.person.Person.lastName-!|Badyelkhan|
|let||js|!-response.jsonbody.User.person.Person.middleName-!|No Middle Name|
|let||js|!-response.jsonbody.User.person.Person.mobilePhone-!|720-555-5555|
|let||js|!-response.jsonbody.User.person.Person.primaryEmail-!|!-test@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.workPhone-!|920-456-7878|
|let||js|!-response.jsonbody.User.person.Person.alternateEmail-!|!-alternateEmail@lodosoftware.com-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line1-!|1234 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line2-!|1235 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line3-!|1236 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.line4-!|1237 Admin Ln|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.city-!|!-AnyTown-!|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.geoCode-!|null|
|let|$mailingAddressID4|js|!-response.jsonbody.User.person.Person.mailingAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.postalCode-!|12345|
|let||js|!-response.jsonbody.User.person.Person.mailingAddress.Address.state-!|CO|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line1-!|5555 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line2-!|5556 Cornhusker Highway|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line3-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.line4-!|null|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.city-!|Lincoln|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.geoCode-!|null|
|let|$physicalAddressID4|js|!-response.jsonbody.User.person.Person.physicalAddress.Address.id-!||
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.postalCode-!|45678|
|let||js|!-response.jsonbody.User.person.Person.physicalAddress.Address.state-!|NE|
|let||js|!-response.jsonbody.User.ownerId-!||
|let||js|!-response.jsonbody.User.createdDate-!||
|let||js|!-response.jsonbody.User.updatedDate-!|null|
|let||js|!-response.jsonbody.User.userType-!|insight|
|let||js|!-response.jsonbody.User.credentials-!|null|
|let||js|!-response.jsonbody.User.companyId-!||
|let||js|!-response.jsonbody.User.billpaySubscriberId-!|null|
|let||js|!-response.jsonbody.User.branchId-!|null|
|let||js|!-response.jsonbody.User.creditScore-!|null|
|let||js|!-response.jsonbody.User.creditScoreDate-!|null|
|let||js|!-response.jsonbody.User.dateOfBirth-!|null|
|let||js|!-response.jsonbody.User.directId-!|fitDirectID4|
|let||js|!-response.jsonbody.User.directId2-!|null|
|let||js|!-response.jsonbody.User.emailOptOut-!|null|
|let||js|!-response.jsonbody.User.gender-!|null|
|let||js|!-response.jsonbody.User.income-!|null|
|let||js|!-response.jsonbody.User.interfaceId-!|null|
|let||js|!-response.jsonbody.User.markedForDelete-!|null|
|let||js|!-response.jsonbody.User.requiresFollowup-!|null|
|let||js|!-response.jsonbody.User.retirementAge-!|null|
|let||js|!-response.jsonbody.User.syncDate-!|null|
|let||js|!-response.jsonbody.User.taxId-!|null|
|let||js|!-response.jsonbody.User.taxIdType-!|null|
|let||js|!-response.jsonbody.User.userClass-!|null|
|comment|try to re-create using same data|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-4",
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID4",
    "directId2": "direcID4", 
    "branchId": "-!${branchID}!-", 
"dateOfBirth": null, 
    "gender": "F", 
"income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
"billpaySubscriberId" : "testbillpaySubscriberId",
"creditScore" : "700",
"emailOptOut" : false,
"markedForDelete" : false,
"interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#2",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let|$nonExpectedUserID6|js|!-response.jsonbody.User.userId-!||
|comment|loginID value is incorrect ex: "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf"|
|setBody|!-{
  "User" : {
    "loginId" : "dsfsdfsdfsdfsa dfasdfsdfdsfsdfsdf",
    "userId": null, 
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID4",
    "directId2": "direcID4", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|disqualifying password value|
|setBody|!-{
  "User" : {
    "loginId" : "PasswordIsDisqualify4",
    "userId": null, 
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID4",
    "directId2": "direcID4", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "12345645",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||200|||
|let||js|!-response.jsonbody-!||
|let|$nonExpectedUserID4|js|!-response.jsonbody.User.userId-!||
|comment|state value is higher than 3 varchar|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "userId": null, 
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID4",
    "directId2": "direcID4", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
|comment|if companyID is null|
|setBody|!-{
  "User" : {
    "loginId" : "stateHigherThan3Char",
    "userId": null, 
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID4",
    "directId2": "direcID4", 
    "branchId": "-!${branchID}!-", 
     "dateOfBirth": null, 
    "gender": "F", 
     "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "companyId" : null,
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "Colorado"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#1",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let||js|!-response.jsonbody.message-!||
****!
****!
!*****> '''1.1.2.1 Institution User - Create User'''
!*****> '''1.1.2.1 Institution User - Create System User'''
****!
!*****> '''1.1.2.2 Institution User - Create Consumer User'''
****!
!*****> '''1.1.2.3 Institution User - Create Institution User'''
****!
!*****> '''1.1.2.4 Institution User - Create Insight User'''
****!
****!
!*****> '''1.1.3.1 Insight User - Create User'''
!*****> '''1.1.3.1 Insight User - Create System User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||403|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation.-!|true|
****!
!*****> '''1.1.3.2 Insight User - Create Consumer User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||403|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation-!|true|
****!
!*****> '''1.1.3.3 Insight User - Create Institution User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||403|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation-!|true|

****!
!*****> '''1.1.3.4 Insight User - Create Insight User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||403|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation-!|true|
****!
****!
!*****> '''1.1.4.1 Consumer User - Create User'''
!*****> '''1.1.4.1 Consumer User - Create System User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "system",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|
****!
!*****> '''1.1.4.2 Consumer User - Create Consumer User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "consumer",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|
****!
!*****> '''1.1.4.3 Consumer User - Create Institution User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "institution",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|
****!
!*****> '''1.1.4.4 Consumer User - Create Insight User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
  "User" : {
    "userId": null, 
    "loginId" : "-!${userLoginID}!-5",
    "enabled" : true,
    "userType" : "insight",
    "directId" : "fitDirectID5",
    "directId2": "direcID5", 
    "branchId": "-!${branchID}!-", 
    "dateOfBirth": null, 
    "gender": "F", 
    "income": null, 
    "retirementAge": 65, 
    "taxId": "999-99-8888", 
    "taxIdType": "SSN", 
    "userClass": "DOUBLE-PLATNUM",
    "billpaySubscriberId" : "testbillpaySubscriberId",
    "creditScore" : "700",
    "emailOptOut" : false,
    "markedForDelete" : false,
    "interfaceId" : 12,
    "companyId" : "-!${companyID}!-",
    "person" : {
      "Person" : {
        "employee" : false,
        "firstName" : "-!${personFirstName}!-",
        "homePhone" : "303-666-6666",
        "id" : null,
        "lastName" : "Badyelkhan",
        "middleName" : "No Middle Name",
        "mobilePhone" : "720-555-5555",
        "primaryEmail" : "test@lodosoftware.com",
        "workPhone" : "920-456-7878",
        "alternateEmail" : "alternateEmail@lodosoftware.com",
        "mailingAddress" : {
          "Address" : {
            "line1" : "1234 Admin Ln",
            "line2" : "1235 Admin Ln",
            "line3" : "1236 Admin Ln",
            "line4" : "1237 Admin Ln",
            "city" : "AnyTown",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "12345",
            "state" : "CO"
          }
        },
        "physicalAddress" : {
          "Address" : {
            "line1" : "5555 Cornhusker Highway",
            "line2" : "5556 Cornhusker Highway",
            "line3" : null,
            "line4" : null,
            "city" : "Lincoln",
            "countryCode" : "US",
            "geoCode" : null,
            "id" : null,
            "postalCode" : "45678",
            "state" : "NE"
          }
        }
      }
    },
    "credentials" : 
     {
      "Credentials" : {
        "password" : "password#5",
        "secretQuestions" : [ {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your mother's maiden name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What was your first pet's name?",
            "secretAnswer" : "denver"
          }
        }, {
          "SecretQuestionAnswer" : {
            "secretQuestion" : "What is your favorite color?",
            "secretAnswer" : "denver"
          }
        } ]
      }
    }
  }
}-!|
|POST||400|||
|let|$errMsg|js|!-response.jsonbody.message-!||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|
****!
****!
****!
****!
!*****> '''1.2 PUT USER'''
!*****> '''1.2.1 PUT USER (/users/{userId})'''
!*****> '''1.2.1.1 System User'''

'''1.2.1.1.1 update with same data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "User": {
        "enabled": true, 
        "locked": false, 
        "loginId": "fitTestLogin2", 
        "person": {
            "Person": {
                "employee": false, 
                "firstName": "Arna", 
                "homePhone": "303-666-6666", 
                "id": 5598, 
                "lastName": "Badyelkhan", 
                "middleName": "No Middle Name", 
                "mobilePhone": "720-555-5555", 
                "primaryEmail": "test@lodosoftware.com", 
                "workPhone": "920-456-7878", 
                "alternateEmail": "alternateEmail@lodosoftware.com", 
                "mailingAddress": {
                    "Address": {
                        "line1": "1234 Admin Ln", 
                        "line2": "1235 Admin Ln", 
                        "line3": "1236 Admin Ln", 
                        "line4": "1237 Admin Ln", 
                        "city": "AnyTown", 
                        "countryCode": "US", 
                        "geoCode": null, 
                        "id": 11967, 
                        "postalCode": "12345", 
                        "state": "CO"
                    }
                }, 
                "physicalAddress": {
                    "Address": {
                        "line1": "5555 Cornhusker Highway", 
                        "line2": "5556 Cornhusker Highway", 
                        "line3": null, 
                        "line4": null, 
                        "city": "Lincoln", 
                        "countryCode": "US", 
                        "geoCode": null, 
                        "id": 11968, 
                        "postalCode": "45678", 
                        "state": "NE"
                    }
                }
            }
        }, 
        "ownerId": 1, 
        "userType": "consumer", 
        "credentials": null, 
        "companyId": 1, 
        "billpaySubscriberId": null, 
        "branchId": 1, 
        "creditScore": null, 
        "creditScoreDate": null, 
        "dateOfBirth": null, 
        "directId": "fitDirectID2", 
        "directId2": "direcID2", 
        "emailOptOut": false, 
        "gender": "F", 
        "income": null, 
        "interfaceId": null, 
        "markedForDelete": null, 
        "requiresFollowup": false, 
        "retirementAge": 65, 
        "syncDate": null, 
        "taxId": "999-99-8888", 
        "taxIdType": "SSN", 
        "userClass": "DOUBLE-PLATNUM"
    }
}-!|
|PUT|/%userID2%|200|||
****!
!*****> '''1.2.1.3 Consumer User'''

'''1.2.1.3.1 update with same data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "User": {
        "enabled": true, 
        "locked": false, 
        "loginId": "fitTestLogin2", 
        "person": {
            "Person": {
                "employee": false, 
                "firstName": "Arna", 
                "homePhone": "303-666-6666", 
                "id": 5598, 
                "lastName": "Badyelkhan", 
                "middleName": "No Middle Name", 
                "mobilePhone": "720-555-5555", 
                "primaryEmail": "test@lodosoftware.com", 
                "workPhone": "920-456-7878", 
                "alternateEmail": "alternateEmail@lodosoftware.com", 
                "mailingAddress": {
                    "Address": {
                        "line1": "1234 Admin Ln", 
                        "line2": "1235 Admin Ln", 
                        "line3": "1236 Admin Ln", 
                        "line4": "1237 Admin Ln", 
                        "city": "AnyTown", 
                        "countryCode": "US", 
                        "geoCode": null, 
                        "id": 11967, 
                        "postalCode": "12345", 
                        "state": "CO"
                    }
                }, 
                "physicalAddress": {
                    "Address": {
                        "line1": "5555 Cornhusker Highway", 
                        "line2": "5556 Cornhusker Highway", 
                        "line3": null, 
                        "line4": null, 
                        "city": "Lincoln", 
                        "countryCode": "US", 
                        "geoCode": null, 
                        "id": 11968, 
                        "postalCode": "45678", 
                        "state": "NE"
                    }
                }
            }
        }, 
        "ownerId": 1, 
        "userType": "consumer", 
        "credentials": null, 
        "companyId": 1, 
        "billpaySubscriberId": null, 
        "branchId": 1, 
        "creditScore": null, 
        "creditScoreDate": null, 
        "dateOfBirth": null, 
        "directId": "fitDirectID2", 
        "directId2": "direcID2", 
        "emailOptOut": false, 
        "gender": "F", 
        "income": null, 
        "interfaceId": null, 
        "markedForDelete": null, 
        "requiresFollowup": false, 
        "retirementAge": 65, 
        "syncDate": null, 
        "taxId": "999-99-8888", 
        "taxIdType": "SSN", 
        "userClass": "DOUBLE-PLATNUM"
    }
}-!|
|PUT|/%userID2%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|
****!
****!
!*****> '''1.2.2 Current User Update (/users/current)'''
!*****> '''1.2.2.1 Update User Name (with valid value, less than 5chars and more than 25 chars)'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "UserProfile": {
        "id": 100, 
        "userName": "user111", 
        "newPassword": null, 
        "password": null, 
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT|/users/current|200|||
|let||js|!-response.jsonbody.UserProfile.id-!||
|let||js|!-response.jsonbody.UserProfile.userName-!|user111|
|let||js|!-response.jsonbody.UserProfile.newPassword-!||
|let||js|!-response.jsonbody.UserProfile.password-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.employee-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.firstName-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.homePhone-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.id-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.lastName-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.middleName-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mobilePhone-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.primaryEmail-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.workPhone-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.alternateEmail-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[0].SecretQuestionAnswer.secretQuestion-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[0].SecretQuestionAnswer.secretAnswer-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[1].SecretQuestionAnswer.secretQuestion-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[1].SecretQuestionAnswer.secretAnswer-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[2].SecretQuestionAnswer.secretQuestion-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[2].SecretQuestionAnswer.secretAnswer-!||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
        "userName": "-!${userName}!-", 
        "newPassword": null, 
        "password": null, 
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT|/users/current|200|||
|let||js|!-response.jsonbody.UserProfile.id-!||
|let||js|!-response.jsonbody.UserProfile.userName-!|${userName}|
|let||js|!-response.jsonbody.UserProfile.newPassword-!||
|let||js|!-response.jsonbody.UserProfile.password-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.employee-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.firstName-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.homePhone-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.id-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.lastName-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.middleName-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mobilePhone-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.primaryEmail-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.workPhone-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.alternateEmail-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[0].SecretQuestionAnswer.secretQuestion-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[0].SecretQuestionAnswer.secretAnswer-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[1].SecretQuestionAnswer.secretQuestion-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[1].SecretQuestionAnswer.secretAnswer-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[2].SecretQuestionAnswer.secretQuestion-!||
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[2].SecretQuestionAnswer.secretAnswer-!||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
        "userName": "user", 
        "newPassword": null, 
        "password": null, 
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT|/users/current|400|||
|let|$errMsg1|js|response.jsonbody.developerMessage||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
        "userName": "user123456789012345678901234567890", 
        "newPassword": null, 
        "password": null, 
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT|/users/current|400|||
|let|$errMsg2|js|response.jsonbody.developerMessage||
|comment|JIRA OLB478 opened, it should return 200, not 500|

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg1|!-ErrorCode: 200023 - Argument username is too short. Min length allowed=5.-!|true|
|errMsg2|!-ErrorCode: 200020 - Argument username exceeds maximum length.-!|true|

****!
!*****> '''1.2.2.2 Update Password (with valid value and invalid values)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "UserProfile": {
        "id": 100, 
	"userName": "-!${userName}!-",
        "newPassword": "NewPassword#7",
        "password": "NewPassword#7",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||403|||
|let|errMsg1|js|response.jsonbody.developerMessage||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
	"userName": "-!${userName}!-",
        "newPassword": "-!${userPassword}!-",
        "password": "-!${userPassword}!-",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||403|||
|let|errMsg2|js|response.jsonbody.developerMessage||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
	"userName": "-!${userName}!-",
        "newPassword": "alllowercaseletters",
        "password": "-!${userPassword}!-",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||400|||
|let|$errMsg3|js|response.jsonbody.developerMessage||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
	"userName": "-!${userName}!-",
        "newPassword": "ALLUPPERCASE",
        "password": "-!${userPassword}!-",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||400|||
|let|$errMsg4|js|response.jsonbody.developerMessage||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
	"userName": "-!${userName}!-",
        "newPassword": "NumberMix12346",
        "password": "-!${userPassword}!-",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||400|||
|let|$errMsg5|js|response.jsonbody.developerMessage||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
        "userName": "-!${userName}!-",
        "newPassword": "UpdatedPassword#1",
        "password": "-!${userPassword}!-",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||200|||
|let||js|response.body||
|setBody|!-{
    "UserProfile": {
        "id": 100, 
        "userName": "-!${userName}!-",
        "newPassword": "-!${userPassword}!-",
        "password": "UpdatedPassword#1",
        "personInfo": {
            "Person": {
                "employee": null, 
                "firstName": "D3-TEST", 
                "homePhone": null, 
                "id": 1, 
                "lastName": "USER", 
                "middleName": null, 
                "mobilePhone": null, 
                "primaryEmail": null, 
                "workPhone": null, 
                "alternateEmail": null, 
                "mailingAddress": null, 
                "physicalAddress": null
            }
        }, 
        "secretQuestionsAnswer": [
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What is your mother's maiden name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your first pet's name?", 
                    "secretAnswer": null
                }
            }, 
            {
                "SecretQuestionAnswer": {
                    "secretQuestion": "What was your favorite teacher's name?", 
                    "secretAnswer": null
                }
            }
        ]
    }
}-!|
|PUT||200|||
|let||js|response.body||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg1|!-Security Error - ErrorCode: 40053 - new.password.and.old.password.cannot.be.equal-!|true|
|errMsg2|!-Security Error - ErrorCode: 40053 - new.password.and.old.password.cannot.be.equal-!|true|
|errMsg3|!-ErrorCode: 200021 - Argument password does not match expected pattern.-!|true|
|errMsg4|!-ErrorCode: 200021 - Argument password does not match expected pattern.-!|true|
|errMsg5|!-ErrorCode: 200021 - Argument password does not match expected pattern.-!|true|
****!
****!
!*****> '''1.2.3 PUT (/users//search)'''
!*****> '''1.2.3.1 Admin User'''

'''1.2.3.1 all fields set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": null,
        "sortOrder": null,
        "userType": null,
        "loginId": null,
        "lastName": null,
        "companyId": null,
        "branchId": null,
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].userId-!||

'''1.2.3.2 pageRange set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": null, 
        "userType": null, 
        "loginId": null, 
        "lastName": null, 
        "companyId": null, 
        "branchId": null, 
        "isDeleted": null
    }
}
-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].userId-!||
|let||js|!-response.jsonbody[1].userId-!||

'''1.2.3.3 pageRange and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": true
                }
            }
        ], 
        "userType": null, 
        "loginId": null, 
        "lastName": null, 
        "companyId": null, 
        "branchId": null, 
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].loginId-!|!-PasswordIsDisqualify4-!|
|let||js|!-response.jsonbody[1].loginId-!|!-PasswordIsDisqualify3-!|

'''1.2.3.4 pageRange and sortOrder (by lastName) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "lastName", 
                    "isDescend": true
                }
            }
        ], 
        "userType": null, 
        "loginId": null, 
        "lastName": null, 
        "companyId": null, 
        "branchId": null, 
        "isDeleted": null
    }
}-!|
|PUT|/users//search|500|||
|comment|DDB-83|

'''1.2.3.5 pageRange and sortOrder (by createdDate) set to not null'''

!|Query|!-   select TOP 2 LOGIN_ID from [ADMIN_USER] order by CREATED_DATE asc-!|
|LOGIN_ID?|
|>>loginId1|
|>>loginId2|

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "createdDate", 
                    "isDescend": false
                }
            }
        ], 
        "userType": null, 
        "loginId": null, 
        "lastName": null, 
        "companyId": null, 
        "branchId": null, 
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].loginId-!|%loginId1%|
|let||js|!-response.jsonbody[1].loginId-!|%loginId2%|

'''1.2.3.6 pageRange, userType (consumer) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "consumer", 
        "loginId": null, 
        "lastName": null, 
        "companyId": null, 
        "branchId": null, 
        "isDeleted": null
    }
}-!|
|PUT|/users//search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-A unconstrained query on consumer users is not allowed. Specify name, company id and/or branch id.-!|true|

'''1.2.3.7 pageRange,branchId, userType (consumer) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "consumer", 
        "loginId": null, 
        "lastName": null, 
        "companyId": null, 
        "branchId": 1, 
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].userType-!|consumer|
|let||js|!-response.jsonbody[1].userType-!|consumer|
|let||js|!-response.jsonbody[0].branchId-!|1.0|
|let||js|!-response.jsonbody[1].branchId-!|1.0|

'''1.2.3.8 pageRange,companyId, userType (insight) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "insight", 
        "loginId": null, 
        "lastName": null, 
        "companyId": 1,  
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].userType-!|insight|
|let||js|!-response.jsonbody[1].userType-!|insight|
|let||js|!-response.jsonbody[0].companyId-!|1.0|
|let||js|!-response.jsonbody[1].companyId-!|1.0|

'''1.2.3.9 pageRange,companyId, userType (insight) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "super", 
        "loginId": null, 
        "lastName": null, 
        "companyId": 1,  
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||

'''1.2.3.10 pageRange,companyId, userType (system) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "sYStem", 
        "loginId": null, 
        "lastName": null, 
        "companyId": 1,  
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].userType-!|system|
|let||js|!-response.jsonbody[1].userType-!|system|
|let||js|!-response.jsonbody[0].companyId-!|1.0|
|let||js|!-response.jsonbody[1].companyId-!|1.0|

'''1.2.3.11 pageRange,companyId, userType (institution) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "InsTituTion", 
        "loginId": null, 
        "lastName": null, 
        "companyId": 1,  
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].userType-!|institution|
|let||js|!-response.jsonbody[1].userType-!|institution|
|let||js|!-response.jsonbody[0].companyId-!|1.0|
|let||js|!-response.jsonbody[1].companyId-!|1.0|

'''1.2.3.12 pageRange, companyId, loginId, userType (consumer) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "consumer", 
        "loginId": "fitTestLogin2", 
        "lastName": null, 
        "companyId": 1,  
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].loginId-!|!-fitTestLogin2-!|
|let||js|!-response.jsonbody[0].userId-!|%userID2%|
|let||js|!-response.jsonbody[0].lastLoginDate-!|null|
|let||js|!-response.jsonbody[0].enabled-!|true|
|let||js|!-response.jsonbody[0].locked-!|false|
|let||js|!-response.jsonbody[0].person.Person.alternateEmail-!|!-alternateEmail@lodosoftware.com-!|
|let||js|!-response.jsonbody[0].person.Person.employee-!|!-false-!|
|let||js|!-response.jsonbody[0].person.Person.firstName-!|!-Arna-!|
|let||js|!-response.jsonbody[0].person.Person.homePhone-!|!-303-666-6666-!|
|let||js|!-response.jsonbody[0].person.Person.id-!|!--!|
|let||js|!-response.jsonbody[0].person.Person.lastName-!|!-Badyelkhan-!|
|let||js|!-response.jsonbody[0].person.Person.middleName-!|!-No Middle Name-!|
|let||js|!-response.jsonbody[0].person.Person.mobilePhone-!|!-720-555-5555-!|
|let||js|!-response.jsonbody[0].person.Person.primaryEmail-!|!-test@lodosoftware.com-!|
|let||js|!-response.jsonbody[0].person.Person.workPhone-!|!-920-456-7878-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.id-!|!--!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.city-!|!-AnyTown-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.state-!|!-CO-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.countryCode-!|!-US-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.postalCode-!|!-12345-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.geoCode-!|!-null-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.line1-!|!-1234 Admin Ln-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.line2-!|!-1235 Admin Ln-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.line3-!|!-1236 Admin Ln-!|
|let||js|!-response.jsonbody[0].person.Person.mailingAddress.Address.line4-!|!-1237 Admin Ln-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.id-!|!--!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.city-!|!-Lincoln-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.state-!|!-NE-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.countryCode-!|!-US-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.postalCode-!|!-45678-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.geoCode-!|!-null-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.line1-!|!-5555 Cornhusker Highway-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.line2-!|!-5556 Cornhusker Highway-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.line3-!|!-null-!|
|let||js|!-response.jsonbody[0].person.Person.physicalAddress.Address.line4-!|!-null-!|
|let||js|!-response.jsonbody[0].ownerId-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].updatedDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].userType-!|consumer|
|let||js|!-response.jsonbody[0].credentials-!|null|
|let||js|!-response.jsonbody[0].companyId-!|1.0|
|let||js|!-response.jsonbody[0].billpaySubscriberId-!|null|
|let||js|!-response.jsonbody[0].branchId-!|1.0|
|let||js|!-response.jsonbody[0].creditScore-!|null|
|let||js|!-response.jsonbody[0].creditScoreDate-!|null|
|let||js|!-response.jsonbody[0].dateOfBirth-!|null|
|let||js|!-response.jsonbody[0].directId-!|!-fitDirectID2-!|
|let||js|!-response.jsonbody[0].directId2-!|!-direcID2-!|
|let||js|!-response.jsonbody[0].emailOptOut-!|false|
|let||js|!-response.jsonbody[0].gender-!|F|
|let||js|!-response.jsonbody[0].income-!|null|
|let||js|!-response.jsonbody[0].interfaceId-!|null|
|let||js|!-response.jsonbody[0].markedForDelete-!|null|
|let||js|!-response.jsonbody[0].requiresFollowup-!|false|
|let||js|!-response.jsonbody[0].retirementAge-!|65|
|let||js|!-response.jsonbody[0].syncDate-!|null|
|let||js|!-response.jsonbody[0].taxId-!|999-99-8888|
|let||js|!-response.jsonbody[0].taxIdType-!|SSN|
|let||js|!-response.jsonbody[0].userClass-!|DOUBLE-PLATNUM|

'''1.2.3.13 pageRange, companyId, lastName, userType (consumer) and sortOrder (by loginId) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "consumer", 
        "lastName": "badyelkhan", 
        "companyId": 1,  
        "isDeleted": null
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].person.Person.lastName-!|!-Badyelkhan-!|

'''1.2.3.14 pageRange, companyId, isDeleted, userType (consumer) and sortOrder (by loginId) set to not null'''

!|Execute|!-update [OLB_USER] set MARKED_FOR_DELETE = 1 where LOGIN_ID = 'fitTestLogin2'-!|

!|DatabaseEnvironment|
|commit|

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "loginId", 
                    "isDescend": false
                }
            }
        ], 
        "userType": "consumer",
        "loginId": "fitTestLogin2",  
        "companyId": 1,  
        "isDeleted": true
    }
}-!|
|PUT|/users//search|200|||
|let||js|!-response.jsonbody[0].loginId-!|!-fitTestLogin2-!|

!|Execute|!-update [OLB_USER] set MARKED_FOR_DELETE = 0 where LOGIN_ID = 'fitTestLogin2'-!|

!|DatabaseEnvironment|
|commit|
****!
!*****> '''1.2.4.2 Consumer User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "SelectionCriteriaUser": {
        "pageRange": null,
        "sortOrder": null,
        "userType": null,
        "loginId": null,
        "lastName": null,
        "companyId": null,
        "branchId": null,
        "isDeleted": null
    }
}-!|
|PUT|/users//search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Operation requires Admin User.-!|true|
****!
****!
****!
!*****> '''1.3 GET USER'''
!*****> '''1.3.1 Get Current User (/users/current)'''

!*****> '''Get User Token - Consumer User'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/challenge|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
Accept : application/json-!|
|setBody|!-{"AuthenticationChallenge":{"authToken":null,"isAuthenticated":null,"errorMessage":null,"nextChallenge":null,"currentChallenge":null,"isChallengeSuccess":null,"challengeList":null}}-!|
|POST||200|||
|setBody|!-{"AuthenticationChallenge":{"authToken":null,"isAuthenticated":false,"errorMessage":null,"nextChallenge":"challenge.type.username.and.password","currentChallenge":"challenge.type.username.and.password","isChallengeSuccess":true,"challengeList":[{"AuthenticationChallengeItem":{"key":"challenge.item.type.username","value":"fitTestLogin2"}},{"AuthenticationChallengeItem":{"key":"challenge.item.type.password","value":"password#2"}}]}}-!|
|POST||200|||
|let|$token|js|response.jsonbody.AuthenticationChallenge.authToken||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|=getToken?|
|token|myToken|

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/challenge|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
Accept : application/json-!|
|setBody|!-{"AuthenticationChallenge":{"authToken":"-!%myToken%!-","isAuthenticated":false,"errorMessage":null,"nextChallenge":"challenge.type.secret.question","currentChallenge":"challenge.type.secret.question","isChallengeSuccess":true,"challengeList":[{"AuthenticationChallengeItem":{"key":"challenge.item.type.secret.question","value":"denver"}}]}}-!|
|POST||200|||
|let|authenticated|js|response.jsonbody.AuthenticationChallenge.isAuthenticated|false|
|let|$userToken|js|response.jsonbody.AuthenticationChallenge.authToken||


|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/challenge|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
Accept : application/json-!|
|setBody|!-{
    "AuthenticationChallenge": {
        "authToken": "-!%userToken%!-", 
        "isAuthenticated": false, 
        "errorMessage": null, 
        "nextChallenge": "challenge.type.terms.of.service", 
        "currentChallenge": "challenge.type.terms.of.service", 
        "isChallengeSuccess": true, 
        "challengeList": [
            {
                "AuthenticationChallengeItem": {
                    "key": "challenge.item.type.terms.of.service", 
                    "value": "true"
                }
            }
        ]
    }
}
-!|
|POST||200|||
|let||js|response.jsonbody.AuthenticationChallenge.isAuthenticated|true|
|let|$userToken|js|response.jsonbody.AuthenticationChallenge.authToken||


|!-org.eclg.fitnesse.tools.StringFixture-!|
|value| =urlencode()|
|%userToken%|encodedUser2Token|
****!
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.UserProfile.id-!|%userID2%|
|let||js|!-response.jsonbody.UserProfile.userName-!|fitTestLogin2|
|let||js|!-response.jsonbody.UserProfile.newPassword-!|null|
|let||js|!-response.jsonbody.UserProfile.password-!|null|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.employee-!|false|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.firstName-!|${personFirstName}|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.homePhone-!|303-666-6666|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.id-!|%personID2%|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.lastName-!|Badyelkhan|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.middleName-!|No Middle Name|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mobilePhone-!|720-555-5555|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.primaryEmail-!|!-test@lodosoftware.com-!|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.workPhone-!|920-456-7878|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.alternateEmail-!|!-alternateEmail@lodosoftware.com-!|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.line1-!|1234 Admin Ln|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.line2-!|1235 Admin Ln|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.line3-!|1236 Admin Ln|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.line4-!|1237 Admin Ln|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.city-!|!-AnyTown-!|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.geoCode-!|null|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.Id-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.postalCode-!|12345|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.mailingAddress.Address.state-!|CO|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.line1-!|5555 Cornhusker Highway|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.line2-!|5556 Cornhusker Highway|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.line3-!|null|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.line4-!|null|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.city-!|Lincoln|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.countryCode-!|US|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.geoCode-!|null|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.Id-!||
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.postalCode-!|45678|
|let||js|!-response.jsonbody.UserProfile.personInfo.Person.physicalAddress.Address.state-!|NE|
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[0].SecretQuestionAnswer.secretQuestion-!|!-What is your mother's maiden name?-!|
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[0].SecretQuestionAnswer.secretAnswer-!|null|
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[1].SecretQuestionAnswer.secretQuestion-!|!-What was your first pet's name?-!|
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[1].SecretQuestionAnswer.secretAnswer-!|null|
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[2].SecretQuestionAnswer.secretQuestion-!|!-What is your favorite color?-!|
|let||js|!-response.jsonbody.UserProfile.secretQuestionsAnswer[2].SecretQuestionAnswer.secretAnswer-!|null|
****!
!*****> '''1.3.2 Get Current User FI (/users//current/institution)'''
!*****> '''1.3.2.1 Consumer User - Get Current User FI'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/institution|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|GET||200|||
|let|$consumerinstitutionId|js|!-response.jsonbody.Institution.institutionId-!|1.0|
|let||js|!-response.jsonbody.Institution.externalId-!|DEFAULT|
|let||js|!-response.jsonbody.Institution.levelDescription-!|null|
|let||js|!-response.jsonbody.Institution.levelName-!|null|
|let||js|!-response.jsonbody.Institution.routingNumber-!|null|
|let||js|!-response.jsonbody.Institution.address1-!|null|
|let||js|!-response.jsonbody.Institution.address2-!|null|
|let||js|!-response.jsonbody.Institution.address3-!|null|
|let||js|!-response.jsonbody.Institution.address4-!|null|
|let||js|!-response.jsonbody.Institution.city-!|null|
|let||js|!-response.jsonbody.Institution.zip-!|null|
|let||js|!-response.jsonbody.Institution.countryCode-!|null|
|let||js|!-response.jsonbody.Institution.geographicalCode-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress1-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress2-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress3-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress4-!|null|
|let||js|!-response.jsonbody.Institution.mailingCity-!|null|
|let||js|!-response.jsonbody.Institution.mailingState-!|null|
|let||js|!-response.jsonbody.Institution.mailingZip-!|null|
|let||js|!-response.jsonbody.Institution.mailingCountryCode-!|null|
|let||js|!-response.jsonbody.Institution.mailingGeographicalCode-!|null|
|let||js|!-response.jsonbody.Institution.phone-!|null|
|let||js|!-response.jsonbody.Institution.supportEmail-!|null|
|let||js|!-response.jsonbody.Institution.generalEmail-!|null|
|let||js|!-response.jsonbody.Institution.websiteURL-!|null|
|let||js|!-response.jsonbody.Institution.noReplyEmail-!|null|
|let||js|!-response.jsonbody.Institution.onDemandLoad-!|0.0 |
|let||js|!-response.jsonbody.Institution.contractDate-!|null|
|let||js|!-response.jsonbody.Institution.checkImagesEnabled-!|false|
|let||js|!-response.jsonbody.Institution.createDate-!|null|
|let||js|!-response.jsonbody.Institution.lastUpdate-!|null|
|let||js|!-response.jsonbody.Institution.numberOfConsumerUsers-!|0.0|
|let||js|!-response.jsonbody.Institution.numberOfAggregationUsers-!|0.0|
|let||js|!-response.jsonbody.Institution.name-!|null|
|let||js|!-response.jsonbody.Institution.numberOfUsers-!|0.0|
****!
!*****> '''1.3.2.2 System User - Get Current User FI'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/institution|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|GET||200|||
|let|$admininstitutionId|js|!-response.jsonbody.Institution.institutionId-!|1.0|
|let||js|!-response.jsonbody.Institution.externalId-!|DEFAULT|
|let||js|!-response.jsonbody.Institution.levelDescription-!|null|
|let||js|!-response.jsonbody.Institution.levelName-!|null|
|let||js|!-response.jsonbody.Institution.routingNumber-!|null|
|let||js|!-response.jsonbody.Institution.address1-!|null|
|let||js|!-response.jsonbody.Institution.address2-!|null|
|let||js|!-response.jsonbody.Institution.address3-!|null|
|let||js|!-response.jsonbody.Institution.address4-!|null|
|let||js|!-response.jsonbody.Institution.city-!|null|
|let||js|!-response.jsonbody.Institution.zip-!|null|
|let||js|!-response.jsonbody.Institution.countryCode-!|null|
|let||js|!-response.jsonbody.Institution.geographicalCode-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress1-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress2-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress3-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress4-!|null|
|let||js|!-response.jsonbody.Institution.mailingCity-!|null|
|let||js|!-response.jsonbody.Institution.mailingState-!|null|
|let||js|!-response.jsonbody.Institution.mailingZip-!|null|
|let||js|!-response.jsonbody.Institution.mailingCountryCode-!|null|
|let||js|!-response.jsonbody.Institution.mailingGeographicalCode-!|null|
|let||js|!-response.jsonbody.Institution.phone-!|null|
|let||js|!-response.jsonbody.Institution.supportEmail-!|null|
|let||js|!-response.jsonbody.Institution.generalEmail-!|null|
|let||js|!-response.jsonbody.Institution.websiteURL-!|null|
|let||js|!-response.jsonbody.Institution.noReplyEmail-!|null|
|let||js|!-response.jsonbody.Institution.onDemandLoad-!|0.0|
|let||js|!-response.jsonbody.Institution.contractDate-!|null|
|let||js|!-response.jsonbody.Institution.checkImagesEnabled-!|false|
|let||js|!-response.jsonbody.Institution.createDate-!|null|
|let||js|!-response.jsonbody.Institution.lastUpdate-!|null|
|let||js|!-response.jsonbody.Institution.numberOfConsumerUsers-!|0.0|
|let||js|!-response.jsonbody.Institution.numberOfAggregationUsers-!|0.0|
|let||js|!-response.jsonbody.Institution.name-!|null|
|let||js|!-response.jsonbody.Institution.numberOfUsers-!|0.0|
****!
!*****> '''1.3.2.3 Insight User - Get Current User FI'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/institution|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|GET||200|||
|let|$insightinstitutionId|js|!-response.jsonbody.Institution.institutionId-!|1.0|
|let||js|!-response.jsonbody.Institution.externalId-!|DEFAULT|
|let||js|!-response.jsonbody.Institution.levelDescription-!|null|
|let||js|!-response.jsonbody.Institution.levelName-!|null|
|let||js|!-response.jsonbody.Institution.routingNumber-!|null|
|let||js|!-response.jsonbody.Institution.address1-!|null|
|let||js|!-response.jsonbody.Institution.address2-!|null|
|let||js|!-response.jsonbody.Institution.address3-!|null|
|let||js|!-response.jsonbody.Institution.address4-!|null|
|let||js|!-response.jsonbody.Institution.city-!|null|
|let||js|!-response.jsonbody.Institution.zip-!|null|
|let||js|!-response.jsonbody.Institution.countryCode-!|null|
|let||js|!-response.jsonbody.Institution.geographicalCode-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress1-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress2-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress3-!|null|
|let||js|!-response.jsonbody.Institution.mailingAddress4-!|null|
|let||js|!-response.jsonbody.Institution.mailingCity-!|null|
|let||js|!-response.jsonbody.Institution.mailingState-!|null|
|let||js|!-response.jsonbody.Institution.mailingZip-!|null|
|let||js|!-response.jsonbody.Institution.mailingCountryCode-!|null|
|let||js|!-response.jsonbody.Institution.mailingGeographicalCode-!|null|
|let||js|!-response.jsonbody.Institution.phone-!|null|
|let||js|!-response.jsonbody.Institution.supportEmail-!|null|
|let||js|!-response.jsonbody.Institution.generalEmail-!|null|
|let||js|!-response.jsonbody.Institution.websiteURL-!|null|
|let||js|!-response.jsonbody.Institution.noReplyEmail-!|null|
|let||js|!-response.jsonbody.Institution.onDemandLoad-!|0.0|
|let||js|!-response.jsonbody.Institution.contractDate-!|null|
|let||js|!-response.jsonbody.Institution.checkImagesEnabled-!|false|
|let||js|!-response.jsonbody.Institution.createDate-!|null|
|let||js|!-response.jsonbody.Institution.lastUpdate-!|null|
|let||js|!-response.jsonbody.Institution.numberOfConsumerUsers-!|0.0|
|let||js|!-response.jsonbody.Institution.numberOfAggregationUsers-!|0.0|
|let||js|!-response.jsonbody.Institution.name-!|null|
|let||js|!-response.jsonbody.Institution.numberOfUsers-!|0.0|
****!
****!
!*****> '''1.3.3 Get Users (/users)'''

!*****> '''1.3.3.1 System - Get System Users'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!||
|GET|!-/users?userType=system&institutionId=&loginId=-!|200|||
|let||js|!-response.jsonbody[0].userId-!||
|let||js|!-response.jsonbody[0].lastLoginDate-!||
|let||js|!-response.jsonbody[0].enabled-!||
|let||js|!-response.jsonbody[0].locked-!||
|let||js|!-response.jsonbody[0].loginId-!||
|let||js|!-response.jsonbody[0].person.Person.employee-!||
|let||js|!-response.jsonbody[0].person.Person.firstName-!||
|let||js|!-response.jsonbody[0].person.Person.homePhone-!||
|let||js|!-response.jsonbody[0].person.Person.id-!||
|let||js|!-response.jsonbody[0].person.Person.lastName-!||
|let||js|!-response.jsonbody[0].person.Person.middleName-!||
|let||js|!-response.jsonbody[0].person.Person.mobilePhone-!||
|let||js|!-response.jsonbody[0].person.Person.primaryEmail-!||
|let||js|!-response.jsonbody[0].person.Person.workPhone-!||
|let||js|!-response.jsonbody[0].person.Person.alternateEmail-!||
|let||js|!-response.jsonbody[0].person.Person.mailingAddress-!||
|let||js|!-response.jsonbody[0].person.Person.physicalAddress-!||
|let||js|!-response.jsonbody[0].ownerId-!||
|let||js|!-response.jsonbody[0].createdDate-!||
|let||js|!-response.jsonbody[0].updatedDate-!||
|let||js|!-response.jsonbody[0].userType-!|system|
|let||js|!-response.jsonbody[0].credentials-!||
|let||js|!-response.jsonbody[0].companyId-!||
|let||js|!-response.jsonbody[0].billpaySubscriberId-!||
|let||js|!-response.jsonbody[0].branchId-!||
|let||js|!-response.jsonbody[0].creditScore-!||
|let||js|!-response.jsonbody[0].creditScoreDate-!||
|let||js|!-response.jsonbody[0].dateOfBirth-!||
|let||js|!-response.jsonbody[0].directId-!||
|let||js|!-response.jsonbody[0].directId2-!||
|let||js|!-response.jsonbody[0].emailOptOut-!||
|let||js|!-response.jsonbody[0].gender-!||
|let||js|!-response.jsonbody[0].income-!||
|let||js|!-response.jsonbody[0].interfaceId-!||
|let||js|!-response.jsonbody[0].markedForDelete-!||
|let||js|!-response.jsonbody[0].requiresFollowup-!||
|let||js|!-response.jsonbody[0].retirementAge-!||
|let||js|!-response.jsonbody[0].syncDate-!||
|let||js|!-response.jsonbody[0].taxId-!||
|let||js|!-response.jsonbody[0].taxIdType-!||
|let||js|!-response.jsonbody[0].userClass-!||
****!
!*****> '''1.3.3.2 Institution - Get Users'''
****!
!*****> '''1.3.3.3 Insight - Get Users'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!||
|GET||500|||
|comment|JIRA|
****!
!*****> '''1.3.3.4 Consumer - Get Users'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|GET||500|||
|comment|JIRA|
****!
****!
!*****> '''1.3.4 Get Current User Networth (/users//current/networth)'''
!*****> '''1.3.4.1 Get Current User Networth - No Accounts'''
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|0.0|
****!
!*****> '''1.3.4.2 Get Current User Networth - (All accounts are internal & positive amounts)'''
!*****> '''Create Accounts for Each Types'''
!|Execute|!-insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest1', null, 'accounttype.annuity', 
      'accountclass.otherasset', 10.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest2', null, 'accounttype.gic_group_annuity', 
      'accountclass.otherasset', 20.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest3', null, 'accounttype.otherasset', 
      'accountclass.otherasset', 30.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest4', null, 'accounttype.otherliability', 
      'accountclass.otherliability', 40.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest5', null, 'accounttype.overdraft', 
      'accountclass.otherliability', 50.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest6', null, 'accounttype.lineofcredit', 
      'accountclass.loan', 60.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest7', null, 'accounttype.loan', 
      'accountclass.loan', 70.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest8', null, 'accounttype.homeequityloan', 
      'accountclass.loan', 80.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest9', null, 'accounttype.mortgage', 
      'accountclass.loan', 90.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest10', null, 'accounttype.creditcard', 
      'accountclass.creditcard', 455.14, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest11', null, 'accounttype.banking.cd', 
      'accountclass.deposit', 110.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest12', null, 'accounttype.banking.checking', 
      'accountclass.deposit', 120.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest13', null, 'accounttype.banking.savings', 
      'accountclass.deposit', 130.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest14', null, 'accounttype.lifeinsurance', 
      'accountclass.insurance', 140.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest15', null, 'accounttype.termlifeinsurance', 
      'accountclass.insurance', 150.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest16', null, 'accounttype.universallifeinsurance', 
      'accountclass.insurance', 160.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest17', null, 'accounttype.wholelifeinsurance', 
      'accountclass.insurance', 170.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest18', null, 'accounttype.investment', 
      'accountclass.investment', 180.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest19', null, 'accounttype.ira', 
      'accountclass.investment', 190.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest20', null, 'accounttype.brokerage', 
      'accountclass.investment', 200.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest21', null, 'accounttype.employerretirementplan', 
      'accountclass.investment', 210.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest22', null, 'accounttype.moneymarket', 
      'accountclass.investment', 220.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest23', null, 'accounttype.moneymarketretirement', 
      'accountclass.investment', 230.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest24', null, 'accounttype.mutualfund', 
      'accountclass.investment', 240.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest25', null, 'accounttype.rothira', 
      'accountclass.investment', 250.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      insert into [OLB_ACCOUNT]([BRANCH_ID],[STATUS],[INTERFACE_ID],[ACCOUNT_NAME],[ACCOUNT_NUMBER],[ACCOUNT_TYPE],[ACCOUNT_CLASS]
      ,[BALANCE],[SYNC_DATE],[CREATED_DATE],[ACCOUNT_STATUS],[AVAILABLE_BALANCE],[DIRECT_CONNECT],[DIRECT_ID]
      ,[OUTSTANDING_BALANCE],[INTEREST_RATE],[LOAN_AMOUNT],[ACCOUNT_OPEN_DATE]
      ,[APR]) values (1, 'accountstatus.open', null,'AccountForNetWorthTest26', null, 'accounttype.cashmanagement', 
      'accountclass.investment', 260.17, SYSDATETIME(), SYSDATETIME(), null, 10.17, 0, 'TestDirectID1', 10.00, 12.11, 12000.00, SYSDATETIME(), 15)
      -!|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest1'-!|
|[ACCOUNT_ID]?|
|>>account1|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest2'-!|
|[ACCOUNT_ID]?|
|>>account2|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest3'-!|
|[ACCOUNT_ID]?|
|>>account3|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest4'-!|
|[ACCOUNT_ID]?|
|>>account4|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest5'-!|
|[ACCOUNT_ID]?|
|>>account5|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest6'-!|
|[ACCOUNT_ID]?|
|>>account6|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest7'-!|
|[ACCOUNT_ID]?|
|>>account7|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest8'-!|
|[ACCOUNT_ID]?|
|>>account8|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest9'-!|
|[ACCOUNT_ID]?|
|>>account9|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest10'-!|
|[ACCOUNT_ID]?|
|>>account10|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest11'-!|
|[ACCOUNT_ID]?|
|>>account11|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest12'-!|
|[ACCOUNT_ID]?|
|>>account12|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest13'-!|
|[ACCOUNT_ID]?|
|>>account13|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest14'-!|
|[ACCOUNT_ID]?|
|>>account14|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest15'-!|
|[ACCOUNT_ID]?|
|>>account15|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest16'-!|
|[ACCOUNT_ID]?|
|>>account16|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest17'-!|
|[ACCOUNT_ID]?|
|>>account17|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest18'-!|
|[ACCOUNT_ID]?|
|>>account18|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest19'-!|
|[ACCOUNT_ID]?|
|>>account19|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest20'-!|
|[ACCOUNT_ID]?|
|>>account20|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest21'-!|
|[ACCOUNT_ID]?|
|>>account21|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest22'-!|
|[ACCOUNT_ID]?|
|>>account22|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest23'-!|
|[ACCOUNT_ID]?|
|>>account23|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest24'-!|
|[ACCOUNT_ID]?|
|>>account24|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest25'-!|
|[ACCOUNT_ID]?|
|>>account25|
!|Query|!-select [ACCOUNT_ID] from [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest26'-!|
|[ACCOUNT_ID]?|
|>>account26|
!|Execute|!-insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account1!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account2!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account3!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account4!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account5!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account6!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account7!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account8!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account9!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account10!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account11!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account12!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account13!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account14!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account15!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account16!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account17!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account18!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account19!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account20!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account21!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account22!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account23!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account24!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account25!-, SYSDATETIME(), 0,0,0)
		  insert into [USER_ACCOUNT_JOIN]([USER_ID],[ACCOUNT_ID],[NICKNAME],[EXCLUDED],[HIDDEN],[HIDE_BY_ADMIN]) 
		  values (-!@userID2!-, -!@account26!-, SYSDATETIME(), 0,0,0)-!|

!|Query|!-select CONVERT(decimal(10,2), case when SUM(t1.BALANCE) > 0 then SUM(t1.BALANCE) else 0 END) as liabilityAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!- and (t1.ACCOUNT_ID = -!@account4!- or t1.ACCOUNT_ID = -!@account5!- or t1.ACCOUNT_ID = -!@account6!- or 
 t1.ACCOUNT_ID = -!@account7!- or t1.ACCOUNT_ID = -!@account8!- or t1.ACCOUNT_ID = -!@account9!- or t1.ACCOUNT_ID = -!@account10!-)-!|
|liabilityAmount?|
|>>liabilityAmount|

!|Query|!-select CONVERT(decimal(10,2), case when SUM(t1.BALANCE) > 0 then SUM(t1.BALANCE) else 0 END) as assetAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!-
and (t1.ACCOUNT_ID = -!@account11!- or t1.ACCOUNT_ID = -!@account12!- or t1.ACCOUNT_ID = -!@account13!- or t1.ACCOUNT_ID = -!@account14!- or t1.ACCOUNT_ID = -!@account15!-
or t1.ACCOUNT_ID = -!@account16!- or t1.ACCOUNT_ID = -!@account17!- or t1.ACCOUNT_ID = -!@account18!- or t1.ACCOUNT_ID = -!@account19!- or t1.ACCOUNT_ID = -!@account20!-
or t1.ACCOUNT_ID = -!@account21!- or t1.ACCOUNT_ID = -!@account22!- or t1.ACCOUNT_ID = -!@account23!- or t1.ACCOUNT_ID = -!@account24!- or t1.ACCOUNT_ID = -!@account25!-
 or t1.ACCOUNT_ID = -!@account26!- or t1.ACCOUNT_ID = -!@account1!- or t1.ACCOUNT_ID = -!@account2!- or t1.ACCOUNT_ID = -!@account3!-)-!|
|assetAmount?|
|>>assetAmount|


!|Query|select @assetAmount - @liabilityAmount as netWorth|
|netWorth?|
|>>netWorth|
!|DatabaseEnvironment|
|commit|
!|DatabaseEnvironment|
|commit|
****!
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|%netWorth%|
****!
!*****> '''1.3.4.3 Get Current User Networth - (All accounts are external & negative amounts)'''
!*****> '''Calculations'''

!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account1!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account1|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account2!-, DIRECT_ID = null, BALANCE = -200.15 where ACCOUNT_ID = -!@account2|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account3!-, DIRECT_ID = null, BALANCE = -130.47 where ACCOUNT_ID = -!@account3|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account4!-, DIRECT_ID = null, BALANCE = -140.15 where ACCOUNT_ID = -!@account4|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account5!-, DIRECT_ID = null, BALANCE = -150.15 where ACCOUNT_ID = -!@account5|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account6!-, DIRECT_ID = null, BALANCE = -160.15 where ACCOUNT_ID = -!@account6|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account7!-, DIRECT_ID = null, BALANCE = -170.15 where ACCOUNT_ID = -!@account7|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account8!-, DIRECT_ID = null, BALANCE = -180.15 where ACCOUNT_ID = -!@account8|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account9!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account9|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account10!-, DIRECT_ID = null, BALANCE = -110.15 where ACCOUNT_ID = -!@account10|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account11!-, DIRECT_ID = null, BALANCE = -120.15 where ACCOUNT_ID = -!@account11|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account12!-, DIRECT_ID = null, BALANCE = -130.15 where ACCOUNT_ID = -!@account12|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account13!-, DIRECT_ID = null, BALANCE = -140.15 where ACCOUNT_ID = -!@account13|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account14!-, DIRECT_ID = null, BALANCE = -150.15 where ACCOUNT_ID = -!@account14|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account15!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account15|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account16!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account16|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account17!-, DIRECT_ID = null, BALANCE = -100.11 where ACCOUNT_ID = -!@account17|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account18!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account18|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account19!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account19|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account20!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account20|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account21!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account21|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account22!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account22|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account23!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account23|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account24!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account24|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account25!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account25|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = -!@account26!-, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account26|
!|DatabaseEnvironment|
|commit|

!|Query|!-select CONVERT(decimal(10,2), SUM(t1.BALANCE)) as liabilityAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!- and (t1.ACCOUNT_ID = -!@account4!- or t1.ACCOUNT_ID = -!@account5!- or t1.ACCOUNT_ID = -!@account6!- or 
 t1.ACCOUNT_ID = -!@account7!- or t1.ACCOUNT_ID = -!@account8!- or t1.ACCOUNT_ID = -!@account9!- or t1.ACCOUNT_ID = -!@account10!-)-!|
|liabilityAmount?|
|>>liabilityAmount|

!|Query|!-select CONVERT(decimal(10,2), SUM(t1.BALANCE)) as assetAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!-
and (t1.ACCOUNT_ID = -!@account11!- or t1.ACCOUNT_ID = -!@account12!- or t1.ACCOUNT_ID = -!@account13!- or t1.ACCOUNT_ID = -!@account14!- or t1.ACCOUNT_ID = -!@account15!-
or t1.ACCOUNT_ID = -!@account16!- or t1.ACCOUNT_ID = -!@account17!- or t1.ACCOUNT_ID = -!@account18!- or t1.ACCOUNT_ID = -!@account19!- or t1.ACCOUNT_ID = -!@account20!-
or t1.ACCOUNT_ID = -!@account21!- or t1.ACCOUNT_ID = -!@account22!- or t1.ACCOUNT_ID = -!@account23!- or t1.ACCOUNT_ID = -!@account24!- or t1.ACCOUNT_ID = -!@account25!-
 or t1.ACCOUNT_ID = -!@account26!- or t1.ACCOUNT_ID = -!@account1!- or t1.ACCOUNT_ID = -!@account2!- or t1.ACCOUNT_ID = -!@account3!-)-!|
|assetAmount?|
|>>assetAmount|


!|Query|select @assetAmount - @liabilityAmount as netWorth|
|netWorth?|
|>>netWorth|
!|DatabaseEnvironment|
|commit|
****!
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|%netWorth%|
****!
!*****> '''1.3.4.4 Get Current User Networth - (AVAILABLE_BALANCE set to NULL for all accounts)'''
!*****> '''Calculations'''

!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account1|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account2|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account3|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account4|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account5|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account6|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account7|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account8|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account9|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account10|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account11|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account12|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account13|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account14|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account15|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account16|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account17|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account18|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account19|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account20|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account21|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account22|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account23|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account24|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account25|
!|Execute|!-update [OLB_ACCOUNT] set AVAILABLE_BALANCE= NULL where ACCOUNT_ID = -!@account26|
!|DatabaseEnvironment|
|commit|

!|Query|!-select CONVERT(decimal(10,2), SUM(t1.BALANCE)) as liabilityAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!- and (t1.ACCOUNT_ID = -!@account4!- or t1.ACCOUNT_ID = -!@account5!- or t1.ACCOUNT_ID = -!@account6!- or 
 t1.ACCOUNT_ID = -!@account7!- or t1.ACCOUNT_ID = -!@account8!- or t1.ACCOUNT_ID = -!@account9!- or t1.ACCOUNT_ID = -!@account10!-)-!|
|liabilityAmount?|
|>>liabilityAmount|

!|Query|!-select CONVERT(decimal(10,2), SUM(t1.BALANCE)) as assetAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!-
and (t1.ACCOUNT_ID = -!@account11!- or t1.ACCOUNT_ID = -!@account12!- or t1.ACCOUNT_ID = -!@account13!- or t1.ACCOUNT_ID = -!@account14!- or t1.ACCOUNT_ID = -!@account15!-
or t1.ACCOUNT_ID = -!@account16!- or t1.ACCOUNT_ID = -!@account17!- or t1.ACCOUNT_ID = -!@account18!- or t1.ACCOUNT_ID = -!@account19!- or t1.ACCOUNT_ID = -!@account20!-
or t1.ACCOUNT_ID = -!@account21!- or t1.ACCOUNT_ID = -!@account22!- or t1.ACCOUNT_ID = -!@account23!- or t1.ACCOUNT_ID = -!@account24!- or t1.ACCOUNT_ID = -!@account25!-
 or t1.ACCOUNT_ID = -!@account26!- or t1.ACCOUNT_ID = -!@account1!- or t1.ACCOUNT_ID = -!@account2!- or t1.ACCOUNT_ID = -!@account3!-)-!|
|assetAmount?|
|>>assetAmount|


!|Query|select @assetAmount - @liabilityAmount as netWorth|
|netWorth?|
|>>netWorth|
!|DatabaseEnvironment|
|commit|
****!
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|%netWorth%|
****!
!*****> '''1.3.4.5 Get Current User Networth - (All accounts are offline)'''
!*****> '''Calculations'''

!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account1|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = -2000.15 where ACCOUNT_ID = -!@account2|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 130.15 where ACCOUNT_ID = -!@account3|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 140.15 where ACCOUNT_ID = -!@account4|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 150.15 where ACCOUNT_ID = -!@account5|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 160.15 where ACCOUNT_ID = -!@account6|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 170.15 where ACCOUNT_ID = -!@account7|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 180.15 where ACCOUNT_ID = -!@account8|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account9|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 110.15 where ACCOUNT_ID = -!@account10|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 120.15 where ACCOUNT_ID = -!@account11|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 130.15 where ACCOUNT_ID = -!@account12|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = -140.15 where ACCOUNT_ID = -!@account13|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 150.15 where ACCOUNT_ID = -!@account14|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account15|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account16|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account17|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account18|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account19|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account20|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account21|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account22|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account23|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.11 where ACCOUNT_ID = -!@account24|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = 100.15 where ACCOUNT_ID = -!@account25|
!|Execute|!-update [OLB_ACCOUNT] set INTERFACE_ID = null, DIRECT_ID = null, BALANCE = -100.15 where ACCOUNT_ID = -!@account26|
!|DatabaseEnvironment|
|commit|

!|Query|!-select CONVERT(decimal(10,2), SUM(t1.BALANCE)) as liabilityAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!- and (t1.ACCOUNT_ID = -!@account4!- or t1.ACCOUNT_ID = -!@account5!- or t1.ACCOUNT_ID = -!@account6!- or 
 t1.ACCOUNT_ID = -!@account7!- or t1.ACCOUNT_ID = -!@account8!- or t1.ACCOUNT_ID = -!@account9!- or t1.ACCOUNT_ID = -!@account10!-)-!|
|liabilityAmount?|
|>>liabilityAmount|

!|Query|!-select CONVERT(decimal(10,2), SUM(t1.BALANCE)) as assetAmount from [OLB_ACCOUNT] as t1, [USER_ACCOUNT_JOIN] as t2
 where t1.ACCOUNT_ID=t2.ACCOUNT_ID and t2.USER_ID = -!@userID2!-
and (t1.ACCOUNT_ID = -!@account11!- or t1.ACCOUNT_ID = -!@account12!- or t1.ACCOUNT_ID = -!@account13!- or t1.ACCOUNT_ID = -!@account14!- or t1.ACCOUNT_ID = -!@account15!-
or t1.ACCOUNT_ID = -!@account16!- or t1.ACCOUNT_ID = -!@account17!- or t1.ACCOUNT_ID = -!@account18!- or t1.ACCOUNT_ID = -!@account19!- or t1.ACCOUNT_ID = -!@account20!-
or t1.ACCOUNT_ID = -!@account21!- or t1.ACCOUNT_ID = -!@account22!- or t1.ACCOUNT_ID = -!@account23!- or t1.ACCOUNT_ID = -!@account24!- or t1.ACCOUNT_ID = -!@account25!-
 or t1.ACCOUNT_ID = -!@account26!- or t1.ACCOUNT_ID = -!@account1!- or t1.ACCOUNT_ID = -!@account2!- or t1.ACCOUNT_ID = -!@account3!-)-!|
|assetAmount?|
|>>assetAmount|

!|Query|select @assetAmount - @liabilityAmount as netWorth|
|netWorth?|
|>>netWorth|
!|DatabaseEnvironment|
|commit|
****!
|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|%netWorth%|
****!
!*****> '''1.3.4.6 Get Current User Networth - (hidden accounts)'''
!|Execute|!-update [USER_ACCOUNT_JOIN] set HIDDEN = 1 where NICKNAME like Convert(varchar, Year(SYSDATETIME())) + '%'-!|
!|DatabaseEnvironment|
|commit|

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|0.0|

!|Execute|!-update [USER_ACCOUNT_JOIN] set HIDDEN = 0 where NICKNAME like Convert(varchar, Year(SYSDATETIME())) + '%'-!|
!|DatabaseEnvironment|
|commit|
****!
!*****> '''1.3.4.7 Get Current User Networth - (excluded accounts)'''
!|Execute|!-update [USER_ACCOUNT_JOIN] set EXCLUDED = 1 where NICKNAME like Convert(varchar, Year(SYSDATETIME())) + '%'-!|
!|DatabaseEnvironment|
|commit|

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users/current/networth|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET||200|||
|let||js|!-response.jsonbody.Networth.netAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.Networth.netAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.Networth.netAmount.Money.value-!|0.0|

!|Execute|!-update [USER_ACCOUNT_JOIN] set EXCLUDED = 0 where NICKNAME like Convert(varchar, Year(SYSDATETIME())) + '%'-!|
!|DatabaseEnvironment|
|commit|
****!
!*****> '''Clean-up Test Data'''
!|Execute|!-
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest1')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest2')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest3')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest4')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest5')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest6')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest7')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest8')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest9')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest10')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest11')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest12')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest13')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest14')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest15')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest16')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest17')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest18')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest19')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest20')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest21')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest22')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest23')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest24')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest25')
delete [USER_ACCOUNT_JOIN] where ACCOUNT_ID = (select ACCOUNT_ID from  [OLB_ACCOUNT] where ACCOUNT_NAME = 'AccountForNetWorthTest26')
delete [OLB_ACCOUNT] where ACCOUNT_NAME like 'AccountForNetWorthTest%'-!|
!|DatabaseEnvironment|
|commit|
****!
****!
****!
!*****> '''1.4 POST USER '''
!*****> '''1.4.1 POST USER (/users//current/logout)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody||
|POST|/users/current/logout|204|||
|POST|/users/current/logout|401|||

****!
****!
!*****> '''1.5 DELETE USER '''
!*****> '''1.5.1 DELETE USER (/users/{userType}/{userId})'''
!*****> '''1.5.1.1 Consumer User'''
!*****> '''1.5.1.1.1  Consumer User - Delete Consumer User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|DELETE|/consumer/%userID2%|400|||
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|DELETE|/consumer/%userID2%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|

****!
!*****> '''1.5.1.1.2  Consumer User - Delete System User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|DELETE|/system/%userID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|

****!
!*****> '''1.5.1.1.3  Consumer User - Delete Insight User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|DELETE|/insight/%userID4%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|

****!
!*****> '''1.5.1.1.4  Consumer User - Delete Institution User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|DELETE|/institution/%userID3%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300200 - Operation requires Admin User.-!|true|

****!
****!
!*****> '''1.5.1.2 Insight User'''
!*****> '''1.5.1.2.1  Insight User - Delete Consumer User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|DELETE|/consumer/%userID2%|403|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation.-!|true|

****!
!*****> '''1.5.1.2.2  Insight User - Delete System User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|DELETE|/system/%userID1%|403|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation-!|true|

****!
!*****> '''1.5.1.2.3  Insight User - Delete Insight User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|DELETE|/insight/%userID4%|403|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation-!|true|

****!
!*****> '''1.5.1.2.4  Insight User - Delete Institution User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|DELETE|/institution/%userID3%|403|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Consumer users do not have permission for this operation-!|true|

****!
****!
!*****> '''1.5.1.3 Institution User'''
!*****> '''1.5.1.3.1  Institution User - Delete Consumer User'''
****!
!*****> '''1.5.1.3.2  Institution User - Delete System User'''
****!
!*****> '''1.5.1.3.3  Institution User - Delete Insight User'''
****!
!*****> '''1.5.1.3.4  Institution User - Delete Institution User'''
****!
****!
!*****> ''' 1.5.1.4 System User'''
!*****> '''1.5.1.4.1  System User - Delete Consumer User'''

'''1.5.1.4.1.1  invalid user'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/consumer/123|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200005 - Argument userIdToDelete is invalid-!|true|

'''1.5.1.4.1.2  userType and userID do not match'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/insight/%userID2%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30084 - Invalid Argument-!|true|

'''1.5.1.4.1.3  valid user'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/consumer/%userID2%|204|||
|DELETE|/consumer/%userID2%|204|||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30084 - Invalid Argument-!|true|

!|Query|!-select [MARKED_FOR_DELETE_DATE] from [OLB_USER] where USER_ID = -!@userID2|
|[MARKED_FOR_DELETE_DATE]?|
|>>MARKED_FOR_DELETE_DATE|

****!
!*****> '''1.5.1.4.2  System User - Delete System User'''

'''1.5.1.4.2.1  valid user'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/system/%userID1%|204|||  
|DELETE|/system/%userID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30084 - Invalid Argument-!|true|

****!
!*****> '''1.5.1.4.3  System User - Delete Insight User'''

'''1.5.1.4.3.1  valid user'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/insight/%userID4%|204|||  
|DELETE|/insight/%userID4%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30084 - Invalid Argument-!|true|

****!
!*****> '''1.5.1.4.4  System User - Delete Institution User'''

'''1.5.1.4.4.1  valid user'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/institution/%userID3%|204|||  
|DELETE|/institution/%userID3%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30084 - Invalid Argument-!|true|
****!
****!
****!
****!
****!
!*****> Test Data Clean-Up

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest/users|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/system/%nonExpectedUserID1%|204|||  
|DELETE|/consumer/%nonExpectedUserID2%|204||| 
|DELETE|/institution/%nonExpectedUserID3%|204||| 
|DELETE|/insight/%nonExpectedUserID4%|204||| 
|DELETE|/institution/%nonExpectedUserID5%|204||| 
|DELETE|/insight/%nonExpectedUserID6%|204||| 
****!