!*****> !style_green[1. CATEGORIES]
!*****> '''1.1 CREATE'''
!*****> '''1.1.1 POST (/categories)'''
!*****> '''1.1.1.1 Consumer User'''
'''1.1.1.1.1 Create User Category (create a new user category)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name",
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID1|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|Income|
|let||js|response.jsonbody.Category.name|Fitnesse Test Category Name|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|USER|
|let||js|response.jsonbody.Category.description|This is just testing category rest service!|

'''1.1.1.1.2 Create User Category (attempt to recreate with same existing data)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name",
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.developerMessage||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30042 - duplicate.category.user.already.has.category.with.this.name-!|true|

'''1.1.1.1.3 Create User Category (null values for all fields)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": null,
        "group": null,
        "name": null,
        "type": null,
        "subClass": null,
        "description": null
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.developerMessage||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument category-subclass is undefined but is required.-!|true|

'''1.1.1.1.4 Create User Category (null value for group field)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": null,
        "group": null,
        "name": "Fitnesse Test Category Name",
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.developerMessage||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument categoryGroup is undefined but is required.-!|true|

'''1.1.1.1.5 Create User Category (null value for name field)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": null,
        "group": "Income",
        "name": null,
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.developerMessage||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument categoryName is undefined but is required.-!|true|

'''1.1.1.1.6 Create User Category (null value for type field)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": null,
        "group": "Income",
        "name": "Fitnesse Test Category Name",
        "type": null,
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.developerMessage||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument categoryType is undefined but is required.-!|true|

'''1.1.1.1.7 Create User Category (create a new user category with numeric values)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "group": "-!${numValue}!-",
        "name": "-!${numValue}!-",
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "-!${numValue}!-"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID2|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|${numValue}|
|let||js|response.jsonbody.Category.name|${numValue}|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|USER|
|let||js|response.jsonbody.Category.description|${numValue}|

'''1.1.1.1.8 Create User Category (create a new user category with special chars value)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "group": "-!${charValue}!-",
        "name": "-!${charValue}!-",
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "-!${charValue}!-"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID3|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|${charValue}|
|let||js|response.jsonbody.Category.name|${charValue}|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|USER|
|let||js|response.jsonbody.Category.description|${charValue}|

'''1.1.1.1.9 Create User Category (create a new user category with description no value)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "group": "novalueforDescriont",
        "name": "novalueforDescriont",
        "type": "categorytype.income",
        "subClass": "USER",
        "description": ""
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID4|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|novalueforDescriont|
|let||js|response.jsonbody.Category.name|novalueforDescriont|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|USER|
|let||js|response.jsonbody.Category.description||
****!
!*****> '''1.1.1.2 Admin User'''

'''1.1.1.2.1 subclass = company'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name-1",
        "companyId": 1,
        "type": "categorytype.income",
        "subClass": "COMPANY",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID5|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|Income|
|let||js|response.jsonbody.Category.name|Fitnesse Test Category Name-1|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|COMPANY|
|let||js|response.jsonbody.Category.description|This is just testing category rest service!|

'''1.1.1.2.2 subclass = user'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name-2",
        "userId": -!%userID2%!-,
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID6|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|Income|
|let||js|response.jsonbody.Category.name|Fitnesse Test Category Name-2|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|USER|
|let||js|response.jsonbody.Category.description|This is just testing category rest service!|

'''1.1.1.2.3 subclass = system'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name-3",
        "type": "categorytype.income",
        "subClass": "SYSTEM",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID7|js|response.jsonbody.Category.id||
|let||js|response.jsonbody.Category.group|Income|
|let||js|response.jsonbody.Category.name|Fitnesse Test Category Name-3|
|let||js|response.jsonbody.Category.type|categorytype.income|
|let||js|response.jsonbody.Category.subClass|SYSTEM|
|let||js|response.jsonbody.Category.description|This is just testing category rest service!|

'''1.1.1.2.4 subclass = COMPANY_DEFAULT'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name-4",
        "companyId": null,
        "type": "categorytype.income",
        "subClass": "COMPANY_DEFAULT",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|200|||
|let|$CategoryID8|js|response.jsonbody.Category.id||

'''1.1.1.2.5 recreate(subclass = company)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name-1",
        "companyId": 1,
        "type": "categorytype.income",
        "subClass": "COMPANY",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-duplicate.category.an.fi.category.with.this.name.already.exists -!|true|

'''1.1.1.2.5 recreate(subclass = user)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "group": "Income",
        "name": "Fitnesse Test Category Name-2",
        "userId": -!%userID2%!-,
        "type": "categorytype.income",
        "subClass": "USER",
        "description": "This is just testing category rest service!"
    }
}-!|
|POST|/categories|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-duplicate.category.user.already.has.category.with.this.name-!|true|
****!
****!
!*****> '''1.1.2 POST (/categories//rule)'''
!*****> '''1.1.2.1  Consumer User'''
'''1.1.2.1.1 all fields set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null,
        "categoryGroup": null,
        "id": null,
        "ruleName": null,
        "createdDate": null,
        "description": null,
        "merchantCategoryCode": null,
        "accountType": null,
        "amount": null,
        "categoryId": null,
        "companyId": null,
        "dayOfMonth": null,
        "startAmount": null,
        "endAmount": null,
        "generated": null,
        "isDeleted": null,
        "matchCount": null,
        "ruleSubclass": null,
        "selectCount": null,
        "transactionType": null,
        "updatedDate": null,
        "userId": null,
        "userLoginId": null,
        "userCompanyId": null,
        "userCompanyExternalId": null,
        "userCompanyName": null,
        "userBranchlId": null,
        "userBranchlName": null,
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument accountType is undefined but is required.-!|true|


'''1.1.2.1.2 accountType set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null, 
        "categoryGroup": null, 
        "ruleName": null, 
        "createdDate": null, 
        "description": null, 
        "merchantCategoryCode": null, 
        "accountType": "accounttype.banking.checking", 
        "amount": null, 
        "categoryId": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": null, 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument ruleSubclass is undefined but is required.-!|true|

'''1.1.2.1.3 accountType, ruleSubclass set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null, 
        "categoryGroup": null, 
        "ruleName": null, 
        "createdDate": null, 
        "description": null, 
        "merchantCategoryCode": null, 
        "accountType": "accounttype.banking.checking", 
        "amount": null, 
        "categoryId": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200710 - Rule must either have a Description or a Merchant Category Code (MCC).-!|true|

'''1.1.2.1.4 accountType, ruleSubclass, description set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null, 
        "categoryGroup": null, 
        "ruleName": null, 
        "createdDate": null, 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": null, 
        "categoryId": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200712 - Rule subclass is not correct for provided user/company id.-!|true|

'''1.1.2.1.5 accountType, ruleSubclass, description, userId set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null, 
        "categoryGroup": null, 
        "ruleName": null, 
        "createdDate": null, 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": null, 
        "categoryId": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": -!%userID2%!-, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument rule-categoryId is undefined but is required.-!|true|

'''1.1.2.1.6 amount,startAmount, endAmount set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "FitCreateRuleName-1", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 5500.50
            }
        }, 
        "categoryId": 104, 
        "dayOfMonth": 25, 
        "startAmount":  {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 500
            }
        }, 
        "endAmount":  {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 2000.85
            }
        }, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": 1019, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200711 - Rule can have either Amount or Start/End Amount but not both.-!|true|

'''1.1.2.1.7 accountType, ruleSubclass, description, userId, categoryId set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null, 
        "categoryGroup": null, 
        "ruleName": null, 
        "createdDate": null, 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": null, 
        "categoryId": 104, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": -!%userID2%!-, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}-!|
|POST|/categories/rule|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Entertainment|
|let|$ruleID1|js|!-response.jsonbody.CategoryRule.id-!||
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|null|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|105|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody.CategoryRule.amount-!|null|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|104|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|null|
|let||js|!-response.jsonbody.CategoryRule.startAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.endAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|null|
|let||js|!-response.jsonbody.CategoryRule.updatedDate-!|null|
|let||js|!-response.jsonbody.CategoryRule.userId-!|%userID2%|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|

'''1.1.2.1.8 all fields set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "FitCreateRuleName-1", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 5500.50
            }
        }, 
        "categoryId": 104, 
        "dayOfMonth": 25, 
        "generated": 1, 
        "isDeleted": 1, 
        "matchCount": 2, 
        "ruleSubclass": "USER", 
        "selectCount": 2, 
        "transactionType": 100, 
        "userId": -!%userID2%!-, 
        "userLoginId": "userLoginId", 
        "userCompanyId": 475, 
        "userCompanyExternalId": 475, 
        "userCompanyName": "userCompanyName", 
        "userBranchlId": 123, 
        "userBranchlName": "userBranchlName", 
        "userBranchlExternalId": "userBranchlExternalId"
    }
}-!|
|POST|/categories/rule|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Entertainment|
|let|$ruleID2|js|!-response.jsonbody.CategoryRule.id-!||
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|!-FitCreateRuleName-1-!|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|105|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.value-!|5500.5|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|104|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|25|
|let||js|!-response.jsonbody.CategoryRule.startAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.endAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|100|
|let||js|!-response.jsonbody.CategoryRule.updatedDate-!|null|
|let||js|!-response.jsonbody.CategoryRule.userId-!|%userID2%|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|

'''1.1.2.1.9 using same data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "FitCreateRuleName-2", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 5500.50
            }
        }, 
        "categoryId": 104, 
        "dayOfMonth": 25, 
        "generated": 1, 
        "isDeleted": 1, 
        "matchCount": 2, 
        "ruleSubclass": "USER", 
        "selectCount": 2, 
        "transactionType": 100, 
        "userId": -!%userID2%!-, 
        "userLoginId": "userLoginId", 
        "userCompanyId": 475, 
        "userCompanyExternalId": 475, 
        "userCompanyName": "userCompanyName", 
        "userBranchlId": 123, 
        "userBranchlName": "userBranchlName", 
        "userBranchlExternalId": "userBranchlExternalId"
    }
}-!|
|POST|/categories/rule|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Entertainment|
|let|$ruleID3|js|!-response.jsonbody.CategoryRule.id-!||
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|!-FitCreateRuleName-2-!|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|105|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.value-!|5500.5|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|104|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|25|
|let||js|!-response.jsonbody.CategoryRule.startAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.endAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|100|
|let||js|!-response.jsonbody.CategoryRule.updatedDate-!|null|
|let||js|!-response.jsonbody.CategoryRule.userId-!|%userID2%|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|
****!
!*****> '''1.1.2.2 Admin User'''
'''1.1.2.2.1 create system rule'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "SystemRule-1", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "categoryId": 104, 
        "dayOfMonth": 14, 
        "startAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 10.24
            }
        }, 
        "endAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 5500.50
            }
        }, 
        "ruleSubclass": "SYSTEM", 
        "transactionType": 1
    }
}-!|
|POST|/categories/rule|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Entertainment|
|let|$ruleID4|js|!-response.jsonbody.CategoryRule.id-!||
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|!-SystemRule-1-!|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|105|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody.CategoryRule.amount-!|null|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|104|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|14|
|let||js|!-response.jsonbody.CategoryRule.startAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.startAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.startAmount.Money.value-!|10.24|
|let||js|!-response.jsonbody.CategoryRule.endAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.endAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.endAmount.Money.value-!|5500.5|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|SYSTEM|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|1.0|
|let||js|!-response.jsonbody.CategoryRule.updatedDate-!|null|
|let||js|!-response.jsonbody.CategoryRule.userId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|

'''1.1.2.2.2 create company rule'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "CompanyRule-1", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "categoryId": 104, 
        "companyId":1 , 
        "dayOfMonth": 14, 
        "startAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 10.24
            }
        }, 
        "endAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 5500.50
            }
        }, 
        "ruleSubclass": "COMPANY", 
        "transactionType": 1
    }
}-!|
|POST|/categories/rule|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Entertainment|
|let|$ruleID5|js|!-response.jsonbody.CategoryRule.id-!||
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|!-CompanyRule-1-!|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|105|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody.CategoryRule.amount-!|null|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|104|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||1.0|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|14|
|let||js|!-response.jsonbody.CategoryRule.startAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.startAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.startAmount.Money.value-!|10.24|
|let||js|!-response.jsonbody.CategoryRule.endAmount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.endAmount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.endAmount.Money.value-!|5500.5|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|COMPANY|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|1.0|
|let||js|!-response.jsonbody.CategoryRule.updatedDate-!|null|
|let||js|!-response.jsonbody.CategoryRule.userId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|

'''1.1.2.2.3 non-existent companyID'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "CompanyRule-1", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "categoryId": 104, 
        "companyId":1456456 , 
        "dayOfMonth": 14, 
        "startAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 10.24
            }
        }, 
        "endAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 5500.50
            }
        }, 
        "ruleSubclass": "COMPANY", 
        "transactionType": 1
    }
}-!|
|POST|/categories/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200001 - Argument rule-companyId is invalid.-!|true|

****!
****!
!*****> '''1.1.3 PUT (/categories/search)'''
!*****> '''1.1.3.1 Consumer User'''
'''1.1.3.1.1 all fields are null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": null,
        "sortOrder": null,
        "name": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/categories/search|200|||
|let||js|!-response.jsonbody[0].id-!||
|let||js|!-response.jsonbody[0].group-!||
|let||js|!-response.jsonbody[0].name-!||
|let||js|!-response.jsonbody[0].type-!||
|let||js|!-response.jsonbody[0].subClass-!||
|let||js|!-response.jsonbody[0].description-!||
|let||js|!-response.jsonbody[0].transactionUsage-!||
|let||js|!-response.jsonbody[0].ruleUsage-!||
|let||js|!-response.jsonbody[1].id-!||
|let||js|!-response.jsonbody[2].id-!||
|let||js|!-response.jsonbody[3].id-!||

'''1.1.3.1.2 pageRange is not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": null, 
        "name": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|200|||
|let||js|!-response.jsonbody[0].id-!||
|let||js|!-response.jsonbody[0].group-!||
|let||js|!-response.jsonbody[0].name-!||
|let||js|!-response.jsonbody[0].type-!||
|let||js|!-response.jsonbody[0].subClass-!||
|let||js|!-response.jsonbody[0].description-!||
|let||js|!-response.jsonbody[0].transactionUsage-!||
|let||js|!-response.jsonbody[0].ruleUsage-!||
|let||js|!-response.jsonbody[1].id-!||

'''1.1.3.1.3 invalid sortOrder field'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "postDate", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaCategory-sortOrder is invalid.-!|true|

'''1.1.3.1.4 pageRange and sortOrder (name and id) are not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 10
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/categories/search|200|||
|let||js|!-response.jsonbody[0].id-!|%CategoryID6%|
|let||js|!-response.jsonbody[0].group-!|Income|
|let||js|!-response.jsonbody[0].name-!|Fitnesse Test Category Name-2|
|let||js|!-response.jsonbody[0].type-!|categorytype.income|
|let||js|!-response.jsonbody[0].subClass-!|USER|
|let||js|!-response.jsonbody[0].description-!|This is just testing category rest service!|
|let||js|!-response.jsonbody[0].transactionUsage-!|0.0|
|let||js|!-response.jsonbody[0].ruleUsage-!|0.0|
|let||js|!-response.jsonbody[1].id-!|%CategoryID4%|
|let||js|!-response.jsonbody[1].group-!|!-novalueforDescriont -!|
|let||js|!-response.jsonbody[1].name-!|!-novalueforDescriont -!|
|let||js|!-response.jsonbody[1].type-!|categorytype.income|
|let||js|!-response.jsonbody[1].subClass-!|USER|
|let||js|!-response.jsonbody[1].description-!|null|
|let||js|!-response.jsonbody[1].transactionUsage-!|0.0|
|let||js|!-response.jsonbody[1].ruleUsage-!|0.0|
|let||js|!-response.jsonbody[2].id-!|%CategoryID3%|
|let||js|!-response.jsonbody[2].group-!|!-{~`@#$%^&*()_+-=[{}]|:;'?,./} -!|
|let||js|!-response.jsonbody[2].name-!|!-{~`@#$%^&*()_+-=[{}]|:;'?,./} -!|
|let||js|!-response.jsonbody[2].type-!|categorytype.income|
|let||js|!-response.jsonbody[2].subClass-!|USER|
|let||js|!-response.jsonbody[2].description-!|!-{~`@#$%^&*()_+-=[{}]|:;'?,./} -!|
|let||js|!-response.jsonbody[2].transactionUsage-!|0.0|
|let||js|!-response.jsonbody[2].ruleUsage-!|0.0|
|let||js|!-response.jsonbody[3].id-!|%CategoryID2%|
|let||js|!-response.jsonbody[3].group-!|0123456789|
|let||js|!-response.jsonbody[3].name-!|0123456789|
|let||js|!-response.jsonbody[3].type-!|categorytype.income|
|let||js|!-response.jsonbody[3].subClass-!|USER|
|let||js|!-response.jsonbody[3].description-!|0123456789|
|let||js|!-response.jsonbody[3].transactionUsage-!|0.0|
|let||js|!-response.jsonbody[3].ruleUsage-!|0.0|


'''1.1.3.1.5 sortOrder by group and subclass'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "group", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "subClass", 
                    "isDescend": true
                }
            }
        ], 
        "name": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaCategory-sortOrder is invalid.-!|true|

'''1.1.3.1.6 sortOrder by companyId and userId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "companyId", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "userId", 
                    "isDescend": true
                }
            }
        ], 
        "name": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaCategory-sortOrder is invalid.-!|true|

'''1.1.3.1.7 search by name'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": " novalueforDescriont ", 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|200|||
|let||js|!-response.jsonbody[0].id-!|%CategoryID4%|
|let||js|!-response.jsonbody[0].group-!|novalueforDescriont|
|let||js|!-response.jsonbody[0].name-!|novalueforDescriont|
|let||js|!-response.jsonbody[0].type-!|categorytype.income|
|let||js|!-response.jsonbody[0].subClass-!|USER|
|let||js|!-response.jsonbody[0].description-!|null|
|let||js|!-response.jsonbody[0].transactionUsage-!|0.0|
|let||js|!-response.jsonbody[0].ruleUsage-!|0.0|
****!
!*****> '''1.1.3.2 Admin User'''

'''1.1.3.1.2 all fields are null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": null,
        "sortOrder": null,
        "name": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||
|comment|APDB-581|

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30094 - Criteria is unconstrained.  That is not allowed.-!|true|


'''1.1.3.2.2 pageRange is not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": null, 
        "name": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30094 - Criteria is unconstrained.  That is not allowed.-!|true|


'''1.1.3.2.3 invalid sortOrder field'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "postDate", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaCategory-sortOrder is invalid.-!|true|

'''1.1.3.2.4 pageRange and sortOrder (name and id) are not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 10
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 30094 - Criteria is unconstrained.  That is not allowed.-!|true|


'''1.1.3.2.5 sortOrder by group and subclass'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "group", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "subClass", 
                    "isDescend": true
                }
            }
        ], 
        "name": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||

'''1.1.3.2.6 sortOrder by companyId and userId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "companyId", 
                    "isDescend": false
                }
            }, 
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "userId", 
                    "isDescend": true
                }
            }
        ], 
        "name": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|400|||

'''1.1.3.2.7 search by name'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": " novalueforDescriont ", 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|200|||
|let||js|!-response.jsonbody[0].id-!|%CategoryID4%|
|let||js|!-response.jsonbody[0].group-!|novalueforDescriont|
|let||js|!-response.jsonbody[0].name-!|novalueforDescriont|
|let||js|!-response.jsonbody[0].type-!|categorytype.income|
|let||js|!-response.jsonbody[0].subClass-!|USER|
|let||js|!-response.jsonbody[0].description-!|null|
|let||js|!-response.jsonbody[0].transactionUsage-!|0.0|
|let||js|!-response.jsonbody[0].ruleUsage-!|0.0|
****!
!*****> '''1.1.3.3 Insight User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCategory": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 15
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "name": " novalueforDescriont ", 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}-!|
|PUT|/categories/search|403|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Security Error - ErrorCode: 200610 - Insight users do not have permission for this operation.-!|true|
****!
****!
!*****> '''1.1.4 PUT (/categories/rules/search)'''

!*****> '''1.1.4.1 Consumer User'''

'''1.1.4.1.1 all fields are null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": null, 
        "sortOrder": null, 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].categoryName-!|Entertainment|
|let||js|!-response.jsonbody[0].categoryGroup-!|Entertainment|
|let||js|!-response.jsonbody[0].id-!|%ruleID1%|
|let||js|!-response.jsonbody[1].id-!|%ruleID2%|
|let||js|!-response.jsonbody[2].id-!|%ruleID3%|
|let||js|!-response.jsonbody[0].ruleName-!|null|
|let||js|!-response.jsonbody[1].ruleName-!|!-FitCreateRuleName-1-!|
|let||js|!-response.jsonbody[2].ruleName-!|!-FitCreateRuleName-2-!|
|let||js|!-response.jsonbody[0].createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].createdDate.DateTime.month-!|%todayMonth%|
|let||js|!-response.jsonbody[0].createdDate.DateTime.day-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.second-!||
|let||js|!-response.jsonbody[0].description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody[0].merchantCategoryCode-!|105|
|let||js|!-response.jsonbody[0].accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody[0].amount-!||
|let||js|!-response.jsonbody[0].categoryId-!|104|
|let||js|!-response.jsonbody[0].companyId-!|null|
|let||js|!-response.jsonbody[0].dayOfMonth-!|null|
|let||js|!-response.jsonbody[0].startAmount-!||
|let||js|!-response.jsonbody[0].endAmount-!||
|let||js|!-response.jsonbody[0].generated-!|false|
|let||js|!-response.jsonbody[0].isDeleted-!|false|
|let||js|!-response.jsonbody[0].matchCount-!|0.0|
|let||js|!-response.jsonbody[0].ruleSubclass-!|USER|
|let||js|!-response.jsonbody[0].selectCount-!|0.0|
|let||js|!-response.jsonbody[0].transactionType-!|null|
|let||js|!-response.jsonbody[0].updatedDate-!||
|let||js|!-response.jsonbody[0].userId-!|%userID2%|
|let||js|!-response.jsonbody[0].userLoginId-!|null|
|let||js|!-response.jsonbody[0].userCompanyId-!|null|
|let||js|!-response.jsonbody[0].userCompanyExternalId-!|null|
|let||js|!-response.jsonbody[0].userCompanyName-!|null|
|let||js|!-response.jsonbody[0].userBranchlId-!|null|
|let||js|!-response.jsonbody[0].userBranchlName-!|null|
|let||js|!-response.jsonbody[0].userBranchlExternalId-!|null|

'''1.1.4.1.2 pageRange set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 1, 
                "pageSize": 1
            }
        }, 
        "sortOrder": null, 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].categoryName-!|Entertainment|
|let||js|!-response.jsonbody[0].categoryGroup-!|Entertainment|
|let||js|!-response.jsonbody[0].id-!|%ruleID2%|
|let||js|!-response.jsonbody[0].ruleName-!|!-FitCreateRuleName-1-!|
|let||js|!-response.jsonbody[0].createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].createdDate.DateTime.month-!|%todayMonth%|
|let||js|!-response.jsonbody[0].createdDate.DateTime.day-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.second-!||
|let||js|!-response.jsonbody[0].description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody[0].merchantCategoryCode-!|105|
|let||js|!-response.jsonbody[0].accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody[0].amount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody[0].amount.Money.precision-!|2|
|let||js|!-response.jsonbody[0].amount.Money.value-!|5500.5|
|let||js|!-response.jsonbody[0].categoryId-!|104|
|let||js|!-response.jsonbody[0].companyId-!|null|
|let||js|!-response.jsonbody[0].dayOfMonth-!|25|
|let||js|!-response.jsonbody[0].startAmount-!||
|let||js|!-response.jsonbody[0].endAmount-!||
|let||js|!-response.jsonbody[0].generated-!|false|
|let||js|!-response.jsonbody[0].isDeleted-!|false|
|let||js|!-response.jsonbody[0].matchCount-!|0.0|
|let||js|!-response.jsonbody[0].ruleSubclass-!|USER|
|let||js|!-response.jsonbody[0].selectCount-!|0.0|
|let||js|!-response.jsonbody[0].transactionType-!|100|
|let||js|!-response.jsonbody[0].updatedDate-!||
|let||js|!-response.jsonbody[0].userId-!|%userID2%|
|let||js|!-response.jsonbody[0].userLoginId-!|null|
|let||js|!-response.jsonbody[0].userCompanyId-!|null|
|let||js|!-response.jsonbody[0].userCompanyExternalId-!|null|
|let||js|!-response.jsonbody[0].userCompanyName-!|null|
|let||js|!-response.jsonbody[0].userBranchlId-!|null|
|let||js|!-response.jsonbody[0].userBranchlName-!|null|
|let||js|!-response.jsonbody[0].userBranchlExternalId-!|null|

'''1.1.4.1.3 sortOrder by name'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].ruleName-!|null|
|let||js|!-response.jsonbody[1].ruleName-!|!-FitCreateRuleName-1-!|
|let||js|!-response.jsonbody[2].ruleName-!|!-FitCreateRuleName-2-!|

'''1.1.4.1.4 sortOrder by ruleName'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "ruleName", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.5 sortOrder by rulePattern'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "rulePattern", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.6 sortOrder by categoryMatch'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "categoryMatch", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.7 sortOrder by subclass'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "subclass", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.8 sortOrder by companyId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "companyId", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.9 sortOrder by userId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "userId", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.10 sortOrder by accountType'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "accountType", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.1.11 categoryMatch set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "rulePattern": null, 
        "categoryMatch": "Entertainment", 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].categoryName-!|!-Entertainment-!|

'''1.1.4.1.12 subclass set to USER'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].id-!|%ruleID1%|
|let||js|!-response.jsonbody[1].id-!|%ruleID2%|
|let||js|!-response.jsonbody[2].id-!|%ruleID3%|

'''1.1.4.1.13 subclass set to SYSTEM'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "SYSTEM", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||

'''1.1.4.1.14 companyId set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "companyId": 2, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||

'''1.1.4.1.15 userId set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "userId": 100, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||

'''1.1.4.1.16 accountType set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "accountType": "checking"
    }
}-!|
|PUT|/categories/rules/search|200|||
****!
!*****> '''1.1.4.2 Admin User'''
'''1.1.4.2.1 all fields are null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": null, 
        "sortOrder": null, 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|comment|DDB-65|
#|let|$errMsg|js|response.jsonbody.message||

#!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
#|symbolName|str|isContain?|
#|errMsg|!-ErrorCode: 30094 - Criteria is unconstrained.  That is not allowed.-!|true|

'''1.1.4.2.2 pageRange set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 1
            }
        }, 
        "sortOrder": null, 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].id-!|%ruleID1%|

'''1.1.4.2.3 sortOrder by name orderKey'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||

'''1.1.4.2.4 sortOrder by ruleName'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "ruleName", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||
|comment|APDB-587|

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.5 sortOrder by rulePattern'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "rulePattern", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.6 sortOrder by categoryMatch'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "categoryMatch", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.7 sortOrder by subclass'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "subclass", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.8 sortOrder by companyId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "companyId", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.9 sortOrder by userId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "userId", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.10 sortOrder by accountType'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "accountType", 
                    "isDescend": true
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "categoryMatch": null, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 300001 - Argument selectionCriteriaRule-sortOrder is invalid.-!|true|

'''1.1.4.2.11 categoryMatch set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "rulePattern": null, 
        "categoryMatch": "Entertainment", 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].categoryName-!|!-Entertainment-!|

'''1.1.4.2.12 subclass set to USER'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null, 
        "accountType": null
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].id-!|%ruleID1%|
|let||js|!-response.jsonbody[1].id-!|%ruleID2%|
|let||js|!-response.jsonbody[2].id-!|%ruleID3%|

'''1.1.4.2.13 subclass set to SYSTEM'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "SYSTEM"
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].ruleSubclass-!|SYSTEM|

'''1.1.4.2.14 subclass set to COMPANY'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "COMPANY"
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].ruleSubclass-!|COMPANY|

'''1.1.4.2.15 subclass set to COMPANY_DEFAULT'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "COMPANY_DEFAULT"
    }
}-!|
|PUT|/categories/rules/search|200|||

'''1.1.4.2.16 subclass set to ALL_COMPANY'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 10
            }
        }, 
        "subclass": "ALL_COMPANY"
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].ruleSubclass-!|COMPANY|

'''1.1.4.2.17 companyId set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 1
            }
        }, 
        "subclass": "COMPANY",
        "companyId": 1
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].ruleSubclass-!|COMPANY|
|let||js|!-response.jsonbody[0].companyId-!|1.0|

'''1.1.4.2.18 userId set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "USER",
        "userId": -!%userID2%!-
    }
}-!|
|PUT|/categories/rules/search|200|||
|let||js|!-response.jsonbody[0].ruleSubclass-!|USER|
|let||js|!-response.jsonbody[0].userId-!|%userID2%|

'''1.1.4.2.19 accountType set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaCatRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 4
            }
        }, 
        "subclass": "USER",
        "accountType": "cd"
    }
}-!|
|PUT|/categories/rules/search|200|||

****!
****!
!*****> '''1.1.5 POST (/renaming/rule)'''

!*****> '''1.1.5.1 Admin User'''

'''1.1.5.1.1 all fields are null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "RenamingRule": {
        "id": null, 
        "name": null, 
        "originalName": null, 
        "ruleName": null, 
        "createdDate": null, 
        "merchantCategoryCode": null, 
        "amount": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": null, 
        "selectCount": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}
-!|
|POST|/renaming/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Argument rule-isDeleted is undefined but is required.-!|true|

'''1.1.5.1.2 isDeleted set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "RenamingRule": {
        "id": null, 
        "name": null, 
        "originalName": null, 
        "ruleName": null, 
        "createdDate": null, 
        "merchantCategoryCode": null, 
        "amount": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": false, 
        "matchCount": null, 
        "ruleSubclass": null, 
        "selectCount": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}
-!|
|POST|/renaming/rule|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Argument rule-matchCount is undefined but is required.-!|true|

'''1.1.5.1.3 isDeleted, matchCount set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "RenamingRule": {
        "id": null, 
        "name": null, 
        "originalName": null, 
        "ruleName": null, 
        "createdDate": null, 
        "merchantCategoryCode": null, 
        "amount": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": false, 
        "matchCount": 1, 
        "ruleSubclass": null, 
        "selectCount": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}
-!|
|POST|/renaming/rule|400|||
|let|$errMsg|js|response.jsonbody.message||
|comment|DDB-78, can't create further. once get fix, continue on this!!!|

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Argument rule-matchCount is undefined but is required.-!|true|
****!
****!
!*****> '''1.1.6 POST (/categories//rules/refreshCache)'''

!*****> '''1.1.6.1 Admin User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody||
|POST|/categories//rules/refreshCache|204|||
****!
****!
****!
!*****> '''1.2 UPDATE'''
!*****> '''1.2.1 PUT (/categories/{categoryId})'''
!*****> '''1.2.1.1 Consumer User'''

'''1.2.1.1.1 updating with same data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Income", 
        "name": "Fitnesse Test Category Name", 
        "type": "categorytype.income", 
        "subClass": "USER", 
        "description": "This is just testing category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|200|||
|let||js|!-response.jsonbody.Category.id-!|%CategoryID1%|
|let||js|!-response.jsonbody.Category.group-!|Income|
|let||js|!-response.jsonbody.Category.name-!|Fitnesse Test Category Name|
|let||js|!-response.jsonbody.Category.type-!|categorytype.income|
|let||js|!-response.jsonbody.Category.subClass-!|USER|
|let||js|!-response.jsonbody.Category.description-!|This is just testing category rest service!|

'''1.2.1.1.2 updating with different data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "ThisIsUpdatingCategoryName", 
        "type": "categorytype.expense.discretionary", 
        "subClass": "USER", 
        "description": "This is update category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|200|||
|let||js|!-response.jsonbody.Category.id-!|%CategoryID1%|
|let||js|!-response.jsonbody.Category.group-!|Expense|
|let||js|!-response.jsonbody.Category.name-!|!-ThisIsUpdatingCategoryName-!|
|let||js|!-response.jsonbody.Category.type-!|categorytype.expense.discretionary|
|let||js|!-response.jsonbody.Category.subClass-!|USER|
|let||js|!-response.jsonbody.Category.description-!|This is update category rest service!|


'''1.2.1.1.3 invalid CategoryID1'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "Fitnesse Update Test Category Name", 
        "type": "categorytype.income", 
        "subClass": "USER", 
        "description": "This is just update testing category rest service!"
    }
}-!|
|PUT|/categories/123456798|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200001 - Argument category-id is invalid.-!|true|

'''1.2.1.1.4 id set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": null, 
        "group": "Expense", 
        "name": "Fitnesse Update Test Category Name", 
        "type": "categorytype.income", 
        "subClass": "USER", 
        "description": "This is just update testing category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|200|||

'''1.2.1.1.5 invalid type'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
       "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "ThisIsUpdatingCategoryName", 
        "type": "categorytype.expense", 
        "subClass": "USER", 
        "description": "This is update  category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200001 - Argument category-categoryType is invalid.-!|true|

'''1.2.1.1.6 group set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": null, 
        "name": "ThisIsUpdatingCategoryName", 
        "type": "categorytype.expense.discretionary", 
        "subClass": "USER", 
        "description": "This is update  category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument categoryGroup is undefined but is required.-!|true|

'''1.2.1.1.7 group set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "ThisIsUpdatingCategoryName", 
        "type": null, 
        "subClass": "USER", 
        "description": "This is update  category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument categoryType is undefined but is required.-!|true|

'''1.2.1.1.8 name set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "", 
        "type": "categorytype.expense.discretionary",
        "subClass": "USER", 
        "description": "This is update  category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument categoryName is undefined but is required.-!|true|

'''1.2.1.1.9 subClass set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "ThisIsUpdatingCategoryName",  
        "type": "categorytype.expense.discretionary",
        "subClass": "", 
        "description": "This is update  category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|200|||

'''1.2.1.1.10 subClass set to company'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Expense", 
        "name": "ThisIsUpdatingCategoryName",  
        "type": "categorytype.expense.discretionary",
        "subClass": "COMPANY", 
        "description": "This is update  category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|200|||
|let||js|response.jsonbody.Category.subClass|USER|
****!
!*****> '''1.2.1.2 Admin User'''

'''1.2.1.2.1 updating with same data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "Category": {
        "id": -!%CategoryID1%!-, 
        "group": "Income", 
        "name": "Fitnesse Test Category Name", 
        "type": "categorytype.income", 
        "subClass": "USER", 
        "description": "This is just testing category rest service!"
    }
}-!|
|PUT|/categories/%CategoryID1%|200|||

****!
****!
!*****> '''1.2.2 PUT (/categories//rule/{ruleId})'''
!*****> '''1.2.2.1 Consumer User'''

'''1.2.2.1.1 updating USER rule with same data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|comment|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "categoryName": null, 
        "categoryGroup": null, 
        "ruleName": null, 
        "createdDate": null, 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "amount": null, 
        "categoryId": 104, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "selectCount": null, 
        "transactionType": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}
-!|
|PUT|/categories/rule/%ruleID1%|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Entertainment|
|let||js|!-response.jsonbody.CategoryRule.id-!|%ruleID1%|
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|null|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|105|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.banking.checking|
|let||js|!-response.jsonbody.CategoryRule.amount-!|null|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|104|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|null|
|let||js|!-response.jsonbody.CategoryRule.startAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.endAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|null|
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.userId-!|%userID2%|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|

'''1.2.2.1.2 updating USER rule with different data'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "merchantCategoryCode": 200, 
        "accountType": "accounttype.any", 
        "amount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "categoryId": 105, 
        "dayOfMonth": 8, 
        "startAmount": null, 
        "endAmount": null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}-!|
|PUT|/categories/rule/%ruleID1%|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Food|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Food|
|let||js|!-response.jsonbody.CategoryRule.id-!|%ruleID1%|
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|!-UpdatedUserRuleName-1-!|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*UPDATE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|200|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.any|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.currencyCode-!|USD|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.precision-!|2|
|let||js|!-response.jsonbody.CategoryRule.amount.Money.value-!|4456.2|
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|105|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|8|
|let||js|!-response.jsonbody.CategoryRule.startAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.endAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|100|
|let||js|!-response.jsonbody.CategoryRule.userId-!|%userID2%|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.second-!||

'''1.2.2.1.3 add startAmount, endAmount values '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "merchantCategoryCode": 200, 
        "accountType": "accounttype.any", 
        "amount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "categoryId": 105, 
        "dayOfMonth": 8, 
        "startAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "endAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}
-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200711 - Rule can have either Amount or Start/End Amount but not both.-!|true|

'''1.2.2.1.4 startAmount higher than endAmount values '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "merchantCategoryCode": 200, 
        "accountType": "accounttype.any", 
        "amount": null, 
        "categoryId": 105, 
        "dayOfMonth": 8, 
        "startAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "endAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200714 - Rule end amount must be greater than start amount.-!|true|

'''1.2.2.1.5 amount,endAmount to null, startAmount set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "merchantCategoryCode": 200, 
        "accountType": "accounttype.any", 
        "amount": null, 
        "categoryId": 105, 
        "dayOfMonth": 8, 
        "startAmount": {
            "Money": {
                "currencyCode": "USD", 
                "precision": 2, 
                "value": 4456.2
            }
        }, 
        "endAmount":null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}
-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Argument rule-startAmount is invalid.-!|true|

'''1.2.2.1.6 merchantCategoryCode, desc set to null '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": null, 
        "merchantCategoryCode": null, 
        "accountType": "accounttype.any", 
        "amount": null, 
        "categoryId": 105, 
        "dayOfMonth": 8, 
        "startAmount": null,
        "endAmount":null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}
-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Rule must either have a Description or a Merchant Category Code (MCC).-!|true|

'''1.2.2.1.7 accountType set to null '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "merchantCategoryCode": 200, 
        "accountType": null, 
        "amount": null, 
        "categoryId": 105, 
        "dayOfMonth": 8, 
        "startAmount": null,
        "endAmount":null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument accountType is undefined but is required.-!|true|

'''1.2.2.1.8 categoryId set to null '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "UpdatedUserRuleName-1", 
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "merchantCategoryCode": 200, 
        "accountType": "accounttype.any", 
        "amount": null, 
        "categoryId": null, 
        "dayOfMonth": 8, 
        "startAmount": null, 
        "endAmount":null, 
        "matchCount": null, 
        "ruleSubclass": "USER", 
        "transactionType": 100, 
        "userId": 1069
    }
}
-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument rule-categoryId is undefined but is required.-!|true|

'''1.2.2.1.9 userId set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "accountType": "accounttype.any", 
        "categoryId": 105, 
        "userId": null
    }
}-!|
|PUT|/categories/rule/%ruleID1%|200|||
|let||js|!-response.jsonbody.CategoryRule.categoryName-!|Food|
|let||js|!-response.jsonbody.CategoryRule.categoryGroup-!|Food|
|let||js|!-response.jsonbody.CategoryRule.id-!|%ruleID1%|
|let||js|!-response.jsonbody.CategoryRule.ruleName-!|!-null-!|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.createdDate.DateTime.second-!||
|let||js|!-response.jsonbody.CategoryRule.description-!|!-FITNESSE.*UPDATE.*TEST.*-!|
|let||js|!-response.jsonbody.CategoryRule.merchantCategoryCode-!|null|
|let||js|!-response.jsonbody.CategoryRule.accountType-!|accounttype.any|
|let||js|!-response.jsonbody.CategoryRule.startAmount-!||
|let||js|!-response.jsonbody.CategoryRule.categoryId-!|105|
|let||js|!-response.jsonbody.CategoryRule.companyId-!||null|
|let||js|!-response.jsonbody.CategoryRule.dayOfMonth-!|null|
|let||js|!-response.jsonbody.CategoryRule.amount-!|null|
|let||js|!-response.jsonbody.CategoryRule.endAmount-!|null|
|let||js|!-response.jsonbody.CategoryRule.generated-!|false|
|let||js|!-response.jsonbody.CategoryRule.isDeleted-!|false|
|let||js|!-response.jsonbody.CategoryRule.matchCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|
|let||js|!-response.jsonbody.CategoryRule.selectCount-!|0.0|
|let||js|!-response.jsonbody.CategoryRule.transactionType-!|null|
|let||js|!-response.jsonbody.CategoryRule.userId-!|%userID2%|
|let||js|!-response.jsonbody.CategoryRule.userLoginId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userCompanyName-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlId-!|null|
|let||js|!-response.jsonbody.CategoryRule.userBranchlName-!||
|let||js|!-response.jsonbody.CategoryRule.userBranchlExternalId-!|null|
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.month-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.day-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.hour-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.minute-!||
|let||js|!-response.jsonbody.CategoryRule.updatedDate.DateTime.second-!||

'''1.2.2.1.10 non-existent ruleID'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "accountType": "accounttype.any", 
        "categoryId": 105, 
        "userId": null
    }
}-!|
|PUT|/categories/rule/12343645|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200002 - Argument rule-id is undefined but is required.-!|true|

'''1.2.2.1.11 non-existent categoryID'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "CategoryRule": {
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "accountType": "accounttype.any", 
        "categoryId": 987856, 
        "userId": null
    }
}-!|
|PUT|/categories/rule/%ruleID1%|400|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-ErrorCode: 200001 - Argument rule-categoryId is invalid.-!|true|
****!
!*****> '''1.2.2.2 Admin User'''

'''1.2.2.1.2 update to system rule'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|comment|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "description": "FITNESSE.*UPDATE.*TEST.*", 
        "accountType": "accounttype.any", 
        "categoryId": 105,
         "ruleSubclass": "SYSTEM"
    }
}-!|
|PUT|/categories/rule/%ruleID1%|200|||
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|USER|

'''1.2.2.1.2 update companyID'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "CategoryRule": {
        "ruleName": "CompanyRule-1", 
        "description": "FITNESSE.*TEST.*", 
        "merchantCategoryCode": 105, 
        "accountType": "accounttype.banking.checking", 
        "categoryId": 104, 
        "companyId": 2, 
        "ruleSubclass": "SYSTEM"
    }
}-!|
|PUT|/categories/rule/%ruleID5%|200|||
|let||js|!-response.jsonbody.CategoryRule.ruleSubclass-!|COMPANY|
|let||js|!-response.jsonbody.CategoryRule.companyId-!|1.0|
****!
****!
!*****> '''1.2.3 PUT (/renaming//rule/{ruleId})'''

!*****>  Create Test Data

''Create Renaming Rule''

!|Execute|!-insert into [RENAMING_RULE](
       [USER_ID]
      ,[COMPANY_ID]
      ,[RULE_NAME]
      ,[OLD_DESCRIPTION]
      ,[NEW_DESCRIPTION]
      ,[MERCHANT_CATEGORY_CODE]
      ,[AMOUNT]
      ,[START_AMOUNT]
      ,[END_AMOUNT]
      ,[GENERATED]
      ,[SELECT_COUNT]
      ,[MATCH_COUNT]
      ,[USER_COUNT]
      ,[RULE_SUBCLASS]
      ,[CREATED_DATE]
      ,[DAY_OF_MONTH]
      ,[IS_DELETED]) values (null, null, 'FITNESSE TEST1 RULE NAME', 'FIT TEST1: [OLD_DESCRIPTION]', 'FIT TEST1: [NEW_DESCRIPTION]', '987', '234.45', '12.33', 
      '236.78', 1, 0, 0, 0, 'SYSTEM', SYSDATETIME(), 24, 0) -!|

!|Query|!-select [ID] from [RENAMING_RULE] where RULE_NAME= 'FITNESSE TEST1 RULE NAME'-!|
|[ID]?|
|>>renamingRuleId1|

!|Execute|!-insert into [RENAMING_RULE](
       [USER_ID]
      ,[COMPANY_ID]
      ,[RULE_NAME]
      ,[OLD_DESCRIPTION]
      ,[NEW_DESCRIPTION]
      ,[MERCHANT_CATEGORY_CODE]
      ,[AMOUNT]
      ,[START_AMOUNT]
      ,[END_AMOUNT]
      ,[GENERATED]
      ,[SELECT_COUNT]
      ,[MATCH_COUNT]
      ,[USER_COUNT]
      ,[RULE_SUBCLASS]
      ,[CREATED_DATE]
      ,[DAY_OF_MONTH]
      ,[IS_DELETED]) values (-!@userID2!-, 1, 'FITNESSE TEST2 RULE NAME', 'FIT TEST2: [OLD_DESCRIPTION]', 'FIT TEST2: [NEW_DESCRIPTION]', '987', '234.45', '12.33', 
      '236.78', 1, 0, 0, 0, 'USER', SYSDATETIME(), 24, 0) -!|

!|Query|!-select [ID] from [RENAMING_RULE] where RULE_NAME= 'FITNESSE TEST2 RULE NAME'-!|
|[ID]?|
|>>renamingRuleId2|


!|Execute|!-insert into [RENAMING_RULE](
       [USER_ID]
      ,[COMPANY_ID]
      ,[RULE_NAME]
      ,[OLD_DESCRIPTION]
      ,[NEW_DESCRIPTION]
      ,[MERCHANT_CATEGORY_CODE]
      ,[AMOUNT]
      ,[START_AMOUNT]
      ,[END_AMOUNT]
      ,[GENERATED]
      ,[SELECT_COUNT]
      ,[MATCH_COUNT]
      ,[USER_COUNT]
      ,[RULE_SUBCLASS]
      ,[CREATED_DATE]
      ,[DAY_OF_MONTH]
      ,[IS_DELETED]) values (null, 1, 'FITNESSE TEST3 RULE NAME', 'FIT TEST3: [OLD_DESCRIPTION]', 'FIT TEST3: [NEW_DESCRIPTION]', '987', '234.45', '12.33', 
      '236.78', 1, 0, 0, 0, 'COMPANY', SYSDATETIME(), 24, 0) -!|

!|Query|!-select [ID] from [RENAMING_RULE] where RULE_NAME= 'FITNESSE TEST3 RULE NAME'-!|
|[ID]?|
|>>renamingRuleId3|

!|Execute|!-insert into [RENAMING_RULE](
       [USER_ID]
      ,[COMPANY_ID]
      ,[RULE_NAME]
      ,[OLD_DESCRIPTION]
      ,[NEW_DESCRIPTION]
      ,[MERCHANT_CATEGORY_CODE]
      ,[AMOUNT]
      ,[START_AMOUNT]
      ,[END_AMOUNT]
      ,[GENERATED]
      ,[SELECT_COUNT]
      ,[MATCH_COUNT]
      ,[USER_COUNT]
      ,[RULE_SUBCLASS]
      ,[CREATED_DATE]
      ,[DAY_OF_MONTH]
      ,[IS_DELETED]) values (null, 1, 'FITNESSE TEST4 RULE NAME', 'FIT TEST4: [OLD_DESCRIPTION]', 'FIT TEST4: [NEW_DESCRIPTION]', '987', '234.45', '12.33', 
      '236.78', 1, 0, 0, 0, 'COMPANY', SYSDATETIME(), 24, 0) -!|

!|Query|!-select [ID] from [RENAMING_RULE] where RULE_NAME= 'FITNESSE TEST4 RULE NAME'-!|
|[ID]?|
|>>renamingRuleId4|

!|Execute|!-insert into [RENAMING_RULE](
       [USER_ID]
      ,[COMPANY_ID]
      ,[RULE_NAME]
      ,[OLD_DESCRIPTION]
      ,[NEW_DESCRIPTION]
      ,[MERCHANT_CATEGORY_CODE]
      ,[AMOUNT]
      ,[START_AMOUNT]
      ,[END_AMOUNT]
      ,[GENERATED]
      ,[SELECT_COUNT]
      ,[MATCH_COUNT]
      ,[USER_COUNT]
      ,[RULE_SUBCLASS]
      ,[CREATED_DATE]
      ,[DAY_OF_MONTH]
      ,[IS_DELETED]) values (null, 1, 'FITNESSE TEST5 RULE NAME', 'FIT TEST5: [OLD_DESCRIPTION]', 'FIT TEST5: [NEW_DESCRIPTION]', '987', '234.45', '12.33', 
      '236.78', 1, 0, 0, 0, 'COMPANY_DEFAULT', SYSDATETIME(), 24, 0) -!|

!|Query|!-select [ID] from [RENAMING_RULE] where RULE_NAME= 'FITNESSE TEST5 RULE NAME'-!|
|[ID]?|
|>>renamingRuleId5|

!|DatabaseEnvironment|
|commit|
****!
!*****> '''1.2.3.1 Admin User'''

'''1.2.3.1.1 all field set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "RenamingRule": {
        "id": null, 
        "name": null, 
        "originalName": null, 
        "ruleName": null, 
        "createdDate": {
            "DateTime": {
                "year": 2013, 
                "month": 7, 
                "day": 16, 
                "hour": 9, 
                "minute": 56, 
                "second": 59
            }
        }, 
        "merchantCategoryCode": null, 
        "amount": null, 
        "companyId": null, 
        "dayOfMonth": null, 
        "startAmount": null, 
        "endAmount": null, 
        "generated": null, 
        "isDeleted": null, 
        "matchCount": null, 
        "ruleSubclass": null, 
        "selectCount": null, 
        "updatedDate": null, 
        "userId": null, 
        "userLoginId": null, 
        "userCompanyId": null, 
        "userCompanyExternalId": null, 
        "userCompanyName": null, 
        "userBranchlId": null, 
        "userBranchlName": null, 
        "userBranchlExternalId": null
    }
}
-!|
|PUT|/renaming//rule/%renamingRuleId1%|400|||
|comment|DDB-79, once have a fix, ensure to add more|
****!
****!
!*****> '''1.2.4 PUT (/renaming//rules/search)'''
!*****> '''1.2.4.1 Admin User'''

'''1.2.4.1.1 all field set to null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": null,
        "sortOrder": null,
        "ruleName": null,
        "rulePattern": null,
        "renameTo": null,
        "subclass": null,
        "companyId": null,
        "userId": null
    }
}-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].id||

'''1.2.4.1.2 pageRange set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": null, 
        "ruleName": null, 
        "rulePattern": null, 
        "renameTo": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].name|FIT TEST3: [NEW_DESCRIPTION]|
|let||js|response.jsonbody[1].name|FIT TEST4: [NEW_DESCRIPTION]|

'''1.2.4.1.3 pageRange and sortOrder (by name) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "name", 
                    "isDescend": false
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "renameTo": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].name|FIT TEST4: [NEW_DESCRIPTION]|
|let||js|response.jsonbody[1].name|FIT TEST3: [NEW_DESCRIPTION]|

'''1.2.4.1.4 pageRange and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "ruleName": null, 
        "rulePattern": null, 
        "renameTo": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].id|%renamingRuleId4%|
|let||js|response.jsonbody[1].id|%renamingRuleId3%|

'''1.2.4.1.5 pageRange, ruleName and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "ruleName": "FITNESSE TEST4 RULE NAME", 
        "rulePattern": null, 
        "renameTo": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleName|FITNESSE TEST4 RULE NAME|


'''1.2.4.1.6 pageRange, renameTo and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "ruleName": "FITNESSE TEST4 RULE NAME", 
        "rulePattern": "FIT.*", 
        "renameTo": null, 
        "subclass": null, 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|comment|DDB-81|

'''1.2.4.1.7 pageRange, subclass (user) and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "subclass": "USER", 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|USER|
|let||js|response.jsonbody[0].userId|%userID2%|

'''1.2.4.1.8 pageRange, subclass (system) and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "subclass": "SYSTEM", 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|SYSTEM|

'''1.2.4.1.9 pageRange, subclass (company) and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "subclass": "COMPANY", 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|COMPANY|
|let||js|response.jsonbody[1].ruleSubclass|COMPANY|

'''1.2.4.1.10 pageRange, subclass (COMPANY_DEFAULT) and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "subclass": "COMPANY_DEFAULT", 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|COMPANY_DEFAULT|

'''1.2.4.1.11 pageRange, subclass (ALL_COMPANY) and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ], 
        "subclass": "ALL_COMPANY", 
        "companyId": null, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|COMPANY|
|let||js|response.jsonbody[1].ruleSubclass|COMPANY|

'''1.2.4.1.11 pageRange, subclass (ALL_COMPANY), companyId and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 5
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": true
                }
            }
        ], 
        "subclass": "ALL_COMPANY", 
        "companyId": 1, 
        "userId": null
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|COMPANY|
|let||js|response.jsonbody[1].ruleSubclass|COMPANY|
|let||js|response.jsonbody[0].id|%renamingRuleId3%|
|let||js|response.jsonbody[1].id|%renamingRuleId4%|

'''1.2.4.1.12 pageRange, subclass (USER), userId and sortOrder (by id) set to not null'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 5
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": true
                }
            }
        ], 
        "subclass": "USER", 
        "userId": -!%userID2%!-
    }
}

}
-!|
|PUT|/renaming//rules/search|200|||
|let||js|!-response.jsonbody[0].id-!|%renamingRuleId2%|
|let||js|!-response.jsonbody[0].name-!|FIT TEST2: [NEW_DESCRIPTION]|
|let||js|!-response.jsonbody[0].originalName-!|FIT TEST2: [OLD_DESCRIPTION]|
|let||js|!-response.jsonbody[0].ruleName-!|FITNESSE TEST2 RULE NAME|
|let||js|!-response.jsonbody[0].createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].merchantCategoryCode-!||
|let||js|!-response.jsonbody[0].amount.Money.value-!|234.45|
|let||js|!-response.jsonbody[0].companyId-!|1.0|
|let||js|!-response.jsonbody[0].dayOfMonth-!|24|
|let||js|!-response.jsonbody[0].startAmount.Money.value-!|12.33|
|let||js|!-response.jsonbody[0].endAmount.Money.value-!|236.78|
|let||js|!-response.jsonbody[0].generated-!|true|
|let||js|!-response.jsonbody[0].isDeleted-!|false|
|let||js|!-response.jsonbody[0].matchCount-!|0.0|
|let||js|!-response.jsonbody[0].ruleSubclass-!|USER|
|let||js|!-response.jsonbody[0].selectCount-!|0.0|
|let||js|!-response.jsonbody[0].updatedDate-!|null|
|let||js|!-response.jsonbody[0].userId-!|%userID2%|
|let||js|!-response.jsonbody[0].userLoginId-!|null|
|let||js|!-response.jsonbody[0].userCompanyId-!|null|
|let||js|!-response.jsonbody[0].userCompanyExternalId-!|null|
|let||js|!-response.jsonbody[0].userCompanyName-!|null|
|let||js|!-response.jsonbody[0].userBranchlId-!|null|
|let||js|!-response.jsonbody[0].userBranchlName-!|null|
|let||js|!-response.jsonbody[0].userBranchlExternalId-!|null|
****!
!*****> '''1.2.4.2 Consumer User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ]
    }
}-!|
|PUT|/renaming//rules/search|200|||
|let||js|response.jsonbody[0].ruleSubclass|USER|
|let||js|response.jsonbody[0].userId|%userID2%|
****!
!*****> '''1.2.4.3 Insight User'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${fiApiKey}!- 
Content-Type : application/json
userToken : %fiEncodedUserToken%-!|
|setBody|!-{
    "SelectionCriteriaRenameRule": {
        "pageRange": {
            "PageRange": {
                "pageIndex": 0, 
                "pageSize": 2
            }
        }, 
        "sortOrder": [
            {
                "SelectionCriteriaSortOrder": {
                    "orderKey": "id", 
                    "isDescend": false
                }
            }
        ]
    }
}-!|
|PUT|/renaming//rules/search|403|||
|let|$errMsg|js|response.jsonbody.message||

!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
|symbolName|str|isContain?|
|errMsg|!-Insight users do not have permission for this operation-!|true|

****!
****!
****!
!*****> '''1.3 GET'''
!*****> '''1.3.1 GET (/categories)'''

'''1.3.1.1  List user category'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET|/categories|200|||
|let||js|response.jsonbody[0].id||
|let||js|response.jsonbody[0].group||
|let||js|response.jsonbody[0].name||
|let||js|response.jsonbody[0].type||
|let||js|response.jsonbody[0].subclass||
|let||js|response.jsonbody[0].description||
****!
!*****> '''1.3.2 GET (/categories/rules)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET|/categories/rules|200|||
|let||js|response.jsonbody[0].categoryName|Food|
|let||js|response.jsonbody[0].categoryGroup|Food|
|let||js|response.jsonbody[0].id|%ruleID1%|
|let||js|response.jsonbody[1].id|%ruleID2%|
|let||js|response.jsonbody[2].id|%ruleID3%|
|let||js|response.jsonbody[0].ruleName|null|
|let||js|!-response.jsonbody[0].createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].createdDate.DateTime.month-!|%todayMonth%|
|let||js|!-response.jsonbody[0].createdDate.DateTime.day-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.hour-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.minute-!||
|let||js|!-response.jsonbody[0].createdDate.DateTime.second-!||
|let||js|response.jsonbody[0].description|!-FITNESSE.*UPDATE.*TEST.*-!|
|let||js|response.jsonbody[0].merchantCategoryCode|null|
|let||js|response.jsonbody[0].accountType|accounttype.any|
|let||js|response.jsonbody[0].amount|null|
|let||js|response.jsonbody[0].categoryId|105|
|let||js|response.jsonbody[0].dayOfMonth|null|
|let||js|response.jsonbody[0].startAmount|null|
|let||js|response.jsonbody[0].endAmount|null|
|let||js|response.jsonbody[0].generated|false|
|let||js|response.jsonbody[0].isDeleted|false|
|let||js|response.jsonbody[0].matchCount|0.0|
|let||js|response.jsonbody[0].ruleSubclass|USER|
|let||js|response.jsonbody[0].selectCount|0.0|
|let||js|response.jsonbody[0].transactionType|null|
|let||js|!-response.jsonbody[0].updatedDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].updatedDate.DateTime.month-!|%todayMonth%|
|let||js|!-response.jsonbody[0].updatedDate.DateTime.day-!||
|let||js|!-response.jsonbody[0].updatedDate.DateTime.hour-!||
|let||js|!-response.jsonbody[0].updatedDate.DateTime.minute-!||
|let||js|!-response.jsonbody[0].updatedDate.DateTime.second-!||
|let||js|response.jsonbody[0].userId|%userID2%|
|let||js|response.jsonbody[0].userLoginId|null|
|let||js|response.jsonbody[0].userCompanyId|null|
|let||js|response.jsonbody[0].userCompanyExternalId|null|
|let||js|response.jsonbody[0].userCompanyName|null|
|let||js|response.jsonbody[0].userBranchlId|null|
|let||js|response.jsonbody[0].userBranchlName|null|
|let||js|response.jsonbody[0].userBranchlExternalId|null|
****!
!*****> '''1.3.3 GET (/transactions/rules)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET|/transactions/rules|200|||
|let||js|response.jsonbody[0].ruleName|!-FITNESSE TEST2 RULE NAME-!|
|let||js|response.jsonbody[0].name|FIT TEST2: [NEW_DESCRIPTION]|
|let||js|response.jsonbody[0].originalName|FIT TEST2: [OLD_DESCRIPTION]|
****!
!*****> '''1.3.4 GET (renaming/rules)'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|GET|/renaming//rules|200|||
|let||js|!-response.jsonbody[0].id-!|%renamingRuleId2%|
|let||js|!-response.jsonbody[0].name-!|FIT TEST2: [NEW_DESCRIPTION]|
|let||js|!-response.jsonbody[0].originalName-!|FIT TEST2: [OLD_DESCRIPTION]|
|let||js|!-response.jsonbody[0].ruleName-!|FITNESSE TEST2 RULE NAME|
|let||js|!-response.jsonbody[0].createdDate.DateTime.year-!|%todayYear%|
|let||js|!-response.jsonbody[0].merchantCategoryCode-!||
|let||js|!-response.jsonbody[0].amount.Money.value-!|234.45|
|let||js|!-response.jsonbody[0].companyId-!|1.0|
|let||js|!-response.jsonbody[0].dayOfMonth-!|24|
|let||js|!-response.jsonbody[0].startAmount.Money.value-!|12.33|
|let||js|!-response.jsonbody[0].endAmount.Money.value-!|236.78|
|let||js|!-response.jsonbody[0].generated-!|true|
|let||js|!-response.jsonbody[0].isDeleted-!|false|
|let||js|!-response.jsonbody[0].matchCount-!|0.0|
|let||js|!-response.jsonbody[0].ruleSubclass-!|USER|
|let||js|!-response.jsonbody[0].selectCount-!|0.0|
|let||js|!-response.jsonbody[0].updatedDate-!|null|
|let||js|!-response.jsonbody[0].userId-!|%userID2%|
|let||js|!-response.jsonbody[0].userLoginId-!|null|
|let||js|!-response.jsonbody[0].userCompanyId-!|null|
|let||js|!-response.jsonbody[0].userCompanyExternalId-!|null|
|let||js|!-response.jsonbody[0].userCompanyName-!|null|
|let||js|!-response.jsonbody[0].userBranchlId-!|null|
|let||js|!-response.jsonbody[0].userBranchlName-!|null|
|let||js|!-response.jsonbody[0].userBranchlExternalId-!|null|
****!
****!
!*****> '''1.4 DELETE '''
!*****> '''1.4.1 DELETE (/categories/{categoryId})'''

'''1.4.1.1  Delete User Categories'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/categories/%CategoryID1%|204|||
|DELETE|/categories/%CategoryID2%|204|||
|DELETE|/categories/%CategoryID3%|204|||
|DELETE|/categories/%CategoryID4%|204|||
|DELETE|/categories/%CategoryID7%|403|||


|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/categories/%CategoryID7%|204|||
|DELETE|/categories/%CategoryID5%|204|||
|DELETE|/categories/%CategoryID6%|204|||
|DELETE|/categories/%CategoryID8%|204|||
|DELETE|/categories/1|400|||

****!
!*****> '''1.4.2 DELETE (/categories//rules/{ruleId})'''

!*****> '''1.4.2.1 Consumer User'''

!|Query|!- select [IS_DELETED] from [CATEGORIZATION_RULE] where ID= -!@ruleID1|
|[IS_DELETED]?|
|0|

'''1.4.2.1.1 valid ruleId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/categories/rules/%ruleID1%|204|||

!|Query|!- select [IS_DELETED] from [CATEGORIZATION_RULE] where ID= -!@ruleID1|
|[IS_DELETED]?|
|1|

!|DatabaseEnvironment|
|commit|

'''1.4.2.1.2 invalid ruleId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/categories/rules/99999|204|||
****!
!*****> '''1.4.2.2 Admin User'''

!|Query|!- select [IS_DELETED] from [CATEGORIZATION_RULE] where ID= -!@ruleID4|
|[IS_DELETED]?|
|0|

!|Query|!- select [IS_DELETED] from [CATEGORIZATION_RULE] where ID= -!@ruleID5|
|[IS_DELETED]?|
|0|

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/categories/rules/%ruleID4%|204|||
|DELETE|/categories/rules/%ruleID5%|204|||

!|Query|!- select [IS_DELETED] from [CATEGORIZATION_RULE] where ID= -!@ruleID4|
|[IS_DELETED]?|
|1|

!|Query|!- select [IS_DELETED] from [CATEGORIZATION_RULE] where ID= -!@ruleID5|
|[IS_DELETED]?|
|1|

!|Execute|!-delete from [CATEGORIZATION_RULE] where DESCRIPTION like '%FITNESS%' -!|

!|DatabaseEnvironment|
|commit|
****!
****!
!*****> '''1.4.3 DELETE (/transactions//rules/{ruleId})'''

!|Query|!- select [IS_DELETED] from [RENAMING_RULE] where [RULE_NAME]= 'FITNESSE TEST2 RULE NAME'-!|
|[IS_DELETED]?|
|0|

'''1.4.3.1 valid ruleId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/transactions/rules/%renamingRuleId2%|204|||

!|Query|!- select [IS_DELETED] from [RENAMING_RULE] where [RULE_NAME]= 'FITNESSE TEST2 RULE NAME'-!|
|[IS_DELETED]?|
|1|


'''1.4.3.2 invalid ruleId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/transactions/rules/123|500|||
|comment|DDB-66|
|let|$errMsg|js|response.jsonbody.message||

#!|com.lodosoftware.fitnesse.fixtures.LodosoftwareFixtures|
#|symbolName|str|isContain?|
#|errMsg|!-ErrorCode: 30050 - Rule must be defined-!|true|
****!
!*****> '''1.4.4 DELETE (/renaming//rules/{ruleId})'''

'''1.4.4.1 invalid ruleId'''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/renaming/rules/12553|500|||
|comment|DDB-82|

'''1.4.4.2 valid ruleId (consumer type of user) '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${institutionNum}!- 
Content-Type : application/json
userToken : %encodedUser2Token%-!|
|DELETE|/renaming/rules/%renamingRuleId1%|403|||
|DELETE|/renaming/rules/%renamingRuleId2%|204|||
|DELETE|/renaming/rules/%renamingRuleId2%|204|||
|DELETE|/renaming/rules/%renamingRuleId3%|403|||
|DELETE|/renaming/rules/%renamingRuleId4%|403|||

'''1.4.4.3 valid ruleId (admin type of user) '''

|!-smartrics.rest.fitnesse.fixture.RestFixture-!|http://${serverName}/d3rest|
|setHeader|!- appKey : -!${adminApiKey}!- 
Content-Type : application/json
userToken : %encodedAdminUserToken%-!|
|DELETE|/renaming/rules/%renamingRuleId1%|204|||
|DELETE|/renaming/rules/%renamingRuleId2%|204|||
|DELETE|/renaming/rules/%renamingRuleId3%|204|||
|DELETE|/renaming/rules/%renamingRuleId4%|204|||
|DELETE|/renaming/rules/%renamingRuleId5%|204|||

!|Query|!- select [IS_DELETED] from [RENAMING_RULE] where [RULE_NAME] like 'FITNESSE TEST%'-!|
|[IS_DELETED]?|
|1|
|1|
|1|
|1|
|1|

!|Execute|!-delete from [RENAMING_RULE] where [RULE_NAME] like 'FITNESSE TEST%'-!|

!|DatabaseEnvironment|
|commit|

****!
****!
****!